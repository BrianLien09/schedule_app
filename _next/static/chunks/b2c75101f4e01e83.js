(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,93475,19119,e=>{"use strict";var t=e.i(71645),a=e.i(32341);let i=[{id:"mon-1",name:"è·æ¶¯åˆ†æžèˆ‡è¦åŠƒ",day:1,startTime:"08:10",endTime:"10:00",location:"åšæ„›CB105D",color:"#fca5a5"},{id:"mon-2",name:"åœ‹æ–‡(II)ï¼šèªžæ–‡è¡¨é”",day:1,startTime:"10:10",endTime:"12:00",location:"åšæ„›C306",color:"#fda4af"},{id:"mon-3",name:"æ•¸ä½é›»å­å­¸",day:1,startTime:"13:10",endTime:"16:00",location:"åšæ„›G313",color:"var(--color-primary)"},{id:"tue-1",name:"ç¶²éš›ç¶²è·¯æ¦‚è«–",day:2,startTime:"08:10",endTime:"10:00",location:"åšæ„›G512é›»è…¦æ•™å®¤",color:"#fdba74"},{id:"tue-2",name:"å¤§å­¸ç”Ÿæ´»å­¸ç¿’èˆ‡è¼”å°Ž",day:2,startTime:"13:10",endTime:"15:00",location:"åšæ„›G313",color:"var(--color-highlight)"},{id:"wed-1",name:"è‹±æ–‡(II)",day:3,startTime:"08:10",endTime:"10:00",location:"åšæ„›C608",color:"#86efac"},{id:"wed-2",name:"ç¾½çƒ",day:3,startTime:"10:10",endTime:"12:00",location:"åšæ„›å…¬èª æ¨“ç±ƒçƒå ´",color:"#bef264"},{id:"wed-3",name:"è³‡æ–™çµæ§‹",day:3,startTime:"15:10",endTime:"18:00",location:"åšæ„›G513é›»è…¦æ•™å®¤",color:"var(--color-secondary)"},{id:"fri-1",name:"æ°‘æ­Œèˆ‡å‰ä»–",day:5,startTime:"08:10",endTime:"10:00",location:"åšæ„›M304",color:"#93c5fd"},{id:"fri-2",name:"Pythonè³‡æ–™è¦–è¦ºåŒ–",day:5,startTime:"10:10",endTime:"12:00",location:"åšæ„›G521é›»è…¦æ•™å®¤",color:"#c4b5fd"},{id:"fri-3",name:"Cç¨‹å¼è¨­è¨ˆ",day:5,startTime:"13:10",endTime:"16:00",location:"åšæ„›G512é›»è…¦æ•™å®¤",color:"#a78bfa"}],r=[{id:"aut-1",date:"2026-01-11",startTime:"09:00",endTime:"18:00",note:"ç§‹å­£ç­"},{id:"aut-2",date:"2026-01-17",startTime:"09:00",endTime:"18:00",note:"ç§‹å­£ç­"},{id:"aut-3",date:"2026-01-18",startTime:"09:00",endTime:"18:00",note:"ç§‹å­£ç­"},{id:"win-1",date:"2026-01-27",startTime:"09:00",endTime:"18:00",note:"å†¬ä»¤ç‡ŸåŠ©æ•™"},{id:"win-2",date:"2026-01-29",startTime:"09:00",endTime:"18:00",note:"å†¬ä»¤ç‡ŸåŠ©æ•™"},{id:"win-3",date:"2026-02-02",startTime:"09:00",endTime:"18:00",note:"å†¬ä»¤ç‡ŸåŠ©æ•™"},{id:"win-4",date:"2026-02-04",startTime:"09:00",endTime:"18:00",note:"å†¬ä»¤ç‡ŸåŠ©æ•™"},{id:"win-5",date:"2026-02-05",startTime:"09:00",endTime:"18:00",note:"å†¬ä»¤ç‡ŸåŠ©æ•™"},{id:"win-6",date:"2026-02-06",startTime:"09:00",endTime:"18:00",note:"å†¬ä»¤ç‡ŸåŠ©æ•™"},{id:"win-7",date:"2026-02-09",startTime:"09:00",endTime:"18:00",note:"å†¬ä»¤ç‡ŸåŠ©æ•™"},{id:"win-8",date:"2026-02-10",startTime:"09:00",endTime:"18:00",note:"å†¬ä»¤ç‡ŸåŠ©æ•™"},{id:"win-9",date:"2026-02-11",startTime:"09:00",endTime:"18:00",note:"å†¬ä»¤ç‡ŸåŠ©æ•™"},{id:"win-10",date:"2026-02-13",startTime:"09:00",endTime:"18:00",note:"å†¬ä»¤ç‡ŸåŠ©æ•™"}],s=[{id:"sel-1",title:"å¿—é¡˜åºçµæžœæŸ¥è©¢ & æœ¬ç­é¸èª²",date:"2026-01-05",description:"09:00 æŸ¥è©¢çµæžœ / 19:00 é–‹å§‹é¸èª²",type:"deadline"},{id:"sel-2",title:"æœ¬ç³»é¸èª² (å«è¼”é›™)",date:"2026-01-06",description:"19:00 é–‹å§‹",type:"deadline"},{id:"sel-3",title:"è·¨ç³»/è·¨ç­é¸èª²",date:"2026-01-08",description:"19:00 é–‹å§‹",type:"deadline"},{id:"sel-4",title:"å…¨æ ¡ç¶²è·¯åŠ é€€é¸",date:"2026-02-23",description:"ä¸Šåˆ 10:00 é–‹å§‹",type:"deadline"},{id:"sel-5",title:"äººå·¥åŠ é€€é¸",date:"2026-03-02",description:"ä¸Šåˆ 09:00 é–‹å§‹",type:"personal"}];e.i(36180);var o=e.i(98925),l=e.i(59141);function d(e,t){return(0,o.collection)(l.db,"users",e,t)}async function n(e,t,a,i){let r=(0,o.doc)(l.db,"users",e,t,a);await (0,o.setDoc)(r,{...i,updatedAt:new Date().toISOString()})}async function u(e,t,...a){let i=d(e,t),r=a.length>0?(0,o.query)(i,...a):i;return(await (0,o.getDocs)(r)).docs.map(e=>({id:e.id,...e.data()}))}async function c(e,t,a,i){let r=(0,o.doc)(l.db,"users",e,t,a);await (0,o.updateDoc)(r,{...i,updatedAt:new Date().toISOString()})}async function m(e,t,a){let i=(0,o.doc)(l.db,"users",e,t,a);await (0,o.deleteDoc)(i)}function h(e,t,a,...i){let r=d(e,t),s=i.length>0?(0,o.query)(r,...i):r;return(0,o.onSnapshot)(s,e=>{a(e.docs.map(e=>({id:e.id,...e.data()})))})}async function _(e,t,a){let i=a.map(a=>{let{id:i,...r}=a;return n(e,t,i,r)});await Promise.all(i)}function f(){let{user:e}=(0,a.useAuth)(),[o,l]=(0,t.useState)([]),[d,f]=(0,t.useState)([]),[g,p]=(0,t.useState)([]),[v,x]=(0,t.useState)(!0),j=async e=>{try{if(localStorage.getItem("firestore_migrated"))return;let t=localStorage.getItem("schedule_courses"),a=localStorage.getItem("schedule_workShifts"),i=localStorage.getItem("schedule_events");if(t){let a=JSON.parse(t);await _(e,"courses",a)}if(a){let t=JSON.parse(a);await _(e,"workShifts",t)}if(i){let t=JSON.parse(i);await _(e,"events",t)}localStorage.setItem("firestore_migrated","true"),console.log("âœ… è³‡æ–™å·²æˆåŠŸé·ç§»è‡³ Firestore")}catch(e){console.error("âŒ è³‡æ–™é·ç§»å¤±æ•—:",e)}},S=async e=>{try{let t=await u(e,"courses"),a=await u(e,"workShifts"),o=await u(e,"events");0===t.length&&await _(e,"courses",i),0===a.length&&await _(e,"workShifts",r),0===o.length&&await _(e,"events",s)}catch(e){console.error("âŒ åˆå§‹åŒ–é è¨­è³‡æ–™å¤±æ•—:",e)}};(0,t.useEffect)(()=>{if(!e){x(!0);let e=localStorage.getItem("schedule_courses"),t=localStorage.getItem("schedule_workShifts"),a=localStorage.getItem("schedule_events");l(e?JSON.parse(e):i),f(t?JSON.parse(t):r),p(a?JSON.parse(a):s),x(!1);return}let t=e.uid;x(!0),j(t).then(()=>S(t)).then(()=>{x(!1)});let a=h(t,"courses",e=>l(e)),o=h(t,"workShifts",e=>f(e)),d=h(t,"events",e=>p(e));return()=>{a(),o(),d()}},[e]);let T=async t=>{if(!e){let e=[...o,t];l(e),localStorage.setItem("schedule_courses",JSON.stringify(e));return}await n(e.uid,"courses",t.id,t)},y=async(t,a)=>{if(!e){let e=o.map(e=>e.id===t?{...e,...a}:e);l(e),localStorage.setItem("schedule_courses",JSON.stringify(e));return}await c(e.uid,"courses",t,a)},N=async t=>{if(!e){let e=o.filter(e=>e.id!==t);l(e),localStorage.setItem("schedule_courses",JSON.stringify(e));return}await m(e.uid,"courses",t)},w=async t=>{if(!e){let e=[...d,t];f(e),localStorage.setItem("schedule_workShifts",JSON.stringify(e));return}await n(e.uid,"workShifts",t.id,t)},k=async(t,a)=>{if(!e){let e=d.map(e=>e.id===t?{...e,...a}:e);f(e),localStorage.setItem("schedule_workShifts",JSON.stringify(e));return}await c(e.uid,"workShifts",t,a)},C=async t=>{if(!e){let e=d.filter(e=>e.id!==t);f(e),localStorage.setItem("schedule_workShifts",JSON.stringify(e));return}await m(e.uid,"workShifts",t)},W=async t=>{if(!e){let e=[...g,t];p(e),localStorage.setItem("schedule_events",JSON.stringify(e));return}await n(e.uid,"events",t.id,t)},b=async(t,a)=>{if(!e){let e=g.map(e=>e.id===t?{...e,...a}:e);p(e),localStorage.setItem("schedule_events",JSON.stringify(e));return}await c(e.uid,"events",t,a)},M=async t=>{if(!e){let e=g.filter(e=>e.id!==t);p(e),localStorage.setItem("schedule_events",JSON.stringify(e));return}await m(e.uid,"events",t)};return{courses:o,shifts:d,events:g,loading:v,addCourse:T,updateCourse:y,deleteCourse:N,addWorkShift:w,updateWorkShift:k,deleteWorkShift:C,addEvent:W,updateEvent:b,deleteEvent:M,resetToDefault:async()=>{if(!e){l(i),f(r),p(s),localStorage.setItem("schedule_courses",JSON.stringify(i)),localStorage.setItem("schedule_workShifts",JSON.stringify(r)),localStorage.setItem("schedule_events",JSON.stringify(s));return}await _(e.uid,"courses",i),await _(e.uid,"workShifts",r),await _(e.uid,"events",s)}}}e.s(["batchSetDocuments",()=>_,"deleteDocument",()=>m,"getDocuments",()=>u,"setDocument",()=>n,"subscribeToCollection",()=>h,"updateDocument",()=>c],19119),e.s(["useScheduleData",()=>f],93475)},7881,e=>{e.v({buttonGroup:"CourseEditor-module__MXGihW__buttonGroup",cancelButton:"CourseEditor-module__MXGihW__cancelButton",closeButton:"CourseEditor-module__MXGihW__closeButton",colorPicker:"CourseEditor-module__MXGihW__colorPicker",dialog:"CourseEditor-module__MXGihW__dialog",fadeIn:"CourseEditor-module__MXGihW__fadeIn",form:"CourseEditor-module__MXGihW__form",formGroup:"CourseEditor-module__MXGihW__formGroup",formRow:"CourseEditor-module__MXGihW__formRow",header:"CourseEditor-module__MXGihW__header",overlay:"CourseEditor-module__MXGihW__overlay",required:"CourseEditor-module__MXGihW__required",saveButton:"CourseEditor-module__MXGihW__saveButton",slideUp:"CourseEditor-module__MXGihW__slideUp"})},34044,e=>{e.v({addButton:"CourseManager-module__Du1rrW__addButton",colorBar:"CourseManager-module__Du1rrW__colorBar",container:"CourseManager-module__Du1rrW__container",courseActions:"CourseManager-module__Du1rrW__courseActions",courseCard:"CourseManager-module__Du1rrW__courseCard",courseDetails:"CourseManager-module__Du1rrW__courseDetails",courseInfo:"CourseManager-module__Du1rrW__courseInfo",courseList:"CourseManager-module__Du1rrW__courseList",courseName:"CourseManager-module__Du1rrW__courseName",deleteButton:"CourseManager-module__Du1rrW__deleteButton",editButton:"CourseManager-module__Du1rrW__editButton",emptyIcon:"CourseManager-module__Du1rrW__emptyIcon",emptyState:"CourseManager-module__Du1rrW__emptyState",header:"CourseManager-module__Du1rrW__header"})},50901,e=>{e.v({buttonGroup:"WorkShiftEditor-module__FaUwMW__buttonGroup",cancelButton:"WorkShiftEditor-module__FaUwMW__cancelButton",closeButton:"WorkShiftEditor-module__FaUwMW__closeButton",colorPicker:"WorkShiftEditor-module__FaUwMW__colorPicker",dialog:"WorkShiftEditor-module__FaUwMW__dialog",fadeIn:"WorkShiftEditor-module__FaUwMW__fadeIn",form:"WorkShiftEditor-module__FaUwMW__form",formGroup:"WorkShiftEditor-module__FaUwMW__formGroup",formRow:"WorkShiftEditor-module__FaUwMW__formRow",header:"WorkShiftEditor-module__FaUwMW__header",overlay:"WorkShiftEditor-module__FaUwMW__overlay",required:"WorkShiftEditor-module__FaUwMW__required",saveButton:"WorkShiftEditor-module__FaUwMW__saveButton",slideUp:"WorkShiftEditor-module__FaUwMW__slideUp"})},23898,e=>{e.v({addButton:"WorkShiftManager-module__7h42rq__addButton",container:"WorkShiftManager-module__7h42rq__container",copyButton:"WorkShiftManager-module__7h42rq__copyButton",deleteButton:"WorkShiftManager-module__7h42rq__deleteButton",editButton:"WorkShiftManager-module__7h42rq__editButton",emptyIcon:"WorkShiftManager-module__7h42rq__emptyIcon",emptyState:"WorkShiftManager-module__7h42rq__emptyState",header:"WorkShiftManager-module__7h42rq__header",headerActions:"WorkShiftManager-module__7h42rq__headerActions",monthCount:"WorkShiftManager-module__7h42rq__monthCount",monthGroup:"WorkShiftManager-module__7h42rq__monthGroup",monthShifts:"WorkShiftManager-module__7h42rq__monthShifts",monthTitle:"WorkShiftManager-module__7h42rq__monthTitle",shiftActions:"WorkShiftManager-module__7h42rq__shiftActions",shiftCard:"WorkShiftManager-module__7h42rq__shiftCard",shiftDate:"WorkShiftManager-module__7h42rq__shiftDate",shiftDay:"WorkShiftManager-module__7h42rq__shiftDay",shiftInfo:"WorkShiftManager-module__7h42rq__shiftInfo",shiftList:"WorkShiftManager-module__7h42rq__shiftList",shiftNote:"WorkShiftManager-module__7h42rq__shiftNote",shiftTime:"WorkShiftManager-module__7h42rq__shiftTime",shiftWeekday:"WorkShiftManager-module__7h42rq__shiftWeekday"})},73494,e=>{e.v({content:"page-module__4ucO_G__content",fadeIn:"page-module__4ucO_G__fadeIn",header:"page-module__4ucO_G__header",pageContainer:"page-module__4ucO_G__pageContainer",subtitle:"page-module__4ucO_G__subtitle",tab:"page-module__4ucO_G__tab",tabActive:"page-module__4ucO_G__tabActive",tabs:"page-module__4ucO_G__tabs"})},28121,e=>{"use strict";var t=e.i(43476),a=e.i(71645),i=e.i(93475),r=e.i(7881);function s({isOpen:e,onClose:i,onSave:s,course:o,mode:l}){let[d,n]=(0,a.useState)({name:"",day:1,startTime:"08:10",endTime:"10:00",location:"",color:"#818cf8"});(0,a.useEffect)(()=>{o&&"edit"===l?n(o):"add"===l&&n({name:"",day:1,startTime:"08:10",endTime:"10:00",location:"",color:"#818cf8"})},[o,l]);let u=(e,t)=>{n(a=>({...a,[e]:t}))};return e?(0,t.jsx)("div",{className:r.default.overlay,onClick:i,children:(0,t.jsxs)("div",{className:`glass ${r.default.dialog}`,onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:r.default.header,children:[(0,t.jsx)("h2",{children:"add"===l?"æ–°å¢žèª²ç¨‹":"ç·¨è¼¯èª²ç¨‹"}),(0,t.jsx)("button",{className:r.default.closeButton,onClick:i,children:"âœ•"})]}),(0,t.jsxs)("form",{onSubmit:e=>{(e.preventDefault(),d.name&&d.startTime&&d.endTime)?(s({id:o?.id||`course-${Date.now()}`,name:d.name,day:d.day,startTime:d.startTime,endTime:d.endTime,location:d.location,color:d.color}),i()):alert("è«‹å¡«å¯«æ‰€æœ‰å¿…å¡«æ¬„ä½")},className:r.default.form,children:[(0,t.jsxs)("div",{className:r.default.formGroup,children:[(0,t.jsxs)("label",{htmlFor:"name",children:["èª²ç¨‹åç¨± ",(0,t.jsx)("span",{className:r.default.required,children:"*"})]}),(0,t.jsx)("input",{id:"name",type:"text",value:d.name,onChange:e=>u("name",e.target.value),placeholder:"ä¾‹å¦‚ï¼šè³‡æ–™çµæ§‹",required:!0})]}),(0,t.jsxs)("div",{className:r.default.formRow,children:[(0,t.jsxs)("div",{className:r.default.formGroup,children:[(0,t.jsxs)("label",{htmlFor:"day",children:["æ˜ŸæœŸ ",(0,t.jsx)("span",{className:r.default.required,children:"*"})]}),(0,t.jsxs)("select",{id:"day",value:d.day,onChange:e=>u("day",parseInt(e.target.value)),children:[(0,t.jsx)("option",{value:1,children:"æ˜ŸæœŸä¸€"}),(0,t.jsx)("option",{value:2,children:"æ˜ŸæœŸäºŒ"}),(0,t.jsx)("option",{value:3,children:"æ˜ŸæœŸä¸‰"}),(0,t.jsx)("option",{value:4,children:"æ˜ŸæœŸå››"}),(0,t.jsx)("option",{value:5,children:"æ˜ŸæœŸäº”"}),(0,t.jsx)("option",{value:6,children:"æ˜ŸæœŸå…­"}),(0,t.jsx)("option",{value:7,children:"æ˜ŸæœŸæ—¥"})]})]}),(0,t.jsxs)("div",{className:r.default.formGroup,children:[(0,t.jsx)("label",{htmlFor:"color",children:"é¡è‰²"}),(0,t.jsx)("input",{id:"color",type:"color",value:d.color,onChange:e=>u("color",e.target.value),className:r.default.colorPicker})]})]}),(0,t.jsxs)("div",{className:r.default.formRow,children:[(0,t.jsxs)("div",{className:r.default.formGroup,children:[(0,t.jsxs)("label",{htmlFor:"startTime",children:["é–‹å§‹æ™‚é–“ ",(0,t.jsx)("span",{className:r.default.required,children:"*"})]}),(0,t.jsx)("input",{id:"startTime",type:"time",value:d.startTime,onChange:e=>u("startTime",e.target.value),required:!0})]}),(0,t.jsxs)("div",{className:r.default.formGroup,children:[(0,t.jsxs)("label",{htmlFor:"endTime",children:["çµæŸæ™‚é–“ ",(0,t.jsx)("span",{className:r.default.required,children:"*"})]}),(0,t.jsx)("input",{id:"endTime",type:"time",value:d.endTime,onChange:e=>u("endTime",e.target.value),required:!0})]})]}),(0,t.jsxs)("div",{className:r.default.formGroup,children:[(0,t.jsx)("label",{htmlFor:"location",children:"åœ°é»ž"}),(0,t.jsx)("input",{id:"location",type:"text",value:d.location,onChange:e=>u("location",e.target.value),placeholder:"ä¾‹å¦‚ï¼šåšæ„›G513é›»è…¦æ•™å®¤"})]}),(0,t.jsxs)("div",{className:r.default.buttonGroup,children:[(0,t.jsx)("button",{type:"button",className:`btn ${r.default.cancelButton}`,onClick:i,children:"å–æ¶ˆ"}),(0,t.jsx)("button",{type:"submit",className:`btn ${r.default.saveButton}`,children:"add"===l?"æ–°å¢ž":"å„²å­˜"})]})]})]})}):null}var o=e.i(34044);function l(){let{courses:e,addCourse:r,updateCourse:l,deleteCourse:d}=(0,i.useScheduleData)(),[n,u]=(0,a.useState)(!1),[c,m]=(0,a.useState)(null),[h,_]=(0,a.useState)("add"),f=["","ä¸€","äºŒ","ä¸‰","å››","äº”","å…­","æ—¥"],g=()=>{m(null),_("add"),u(!0)},p=[...e].sort((e,t)=>e.day!==t.day?e.day-t.day:e.startTime.localeCompare(t.startTime));return(0,t.jsxs)("div",{className:o.default.container,children:[(0,t.jsxs)("div",{className:o.default.header,children:[(0,t.jsx)("h2",{children:"èª²ç¨‹ç®¡ç†"}),(0,t.jsx)("button",{className:`btn ${o.default.addButton}`,onClick:g,children:"+ æ–°å¢žèª²ç¨‹"})]}),(0,t.jsx)("div",{className:o.default.courseList,children:0===p.length?(0,t.jsxs)("div",{className:o.default.emptyState,children:[(0,t.jsx)("div",{className:o.default.emptyIcon,children:"ðŸ“š"}),(0,t.jsx)("p",{children:"å°šæœªæ–°å¢žä»»ä½•èª²ç¨‹"}),(0,t.jsx)("button",{className:"btn",onClick:g,children:"æ–°å¢žç¬¬ä¸€å ‚èª²"})]}):p.map(e=>(0,t.jsxs)("div",{className:`glass ${o.default.courseCard}`,children:[(0,t.jsx)("div",{className:o.default.colorBar,style:{backgroundColor:e.color||"#818cf8"}}),(0,t.jsxs)("div",{className:o.default.courseInfo,children:[(0,t.jsx)("div",{className:o.default.courseName,children:e.name}),(0,t.jsxs)("div",{className:o.default.courseDetails,children:[(0,t.jsxs)("span",{children:["æ˜ŸæœŸ",f[e.day]]}),(0,t.jsxs)("span",{children:[e.startTime," - ",e.endTime]}),e.location&&(0,t.jsx)("span",{children:e.location})]})]}),(0,t.jsxs)("div",{className:o.default.courseActions,children:[(0,t.jsx)("button",{className:o.default.editButton,onClick:()=>{m(e),_("edit"),u(!0)},title:"ç·¨è¼¯",children:(0,t.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,t.jsx)("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),(0,t.jsx)("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),(0,t.jsx)("button",{className:o.default.deleteButton,onClick:()=>{confirm(`ç¢ºå®šè¦åˆªé™¤ã€Œ${e.name}ã€å—Žï¼Ÿ`)&&d(e.id)},title:"åˆªé™¤",children:(0,t.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,t.jsx)("polyline",{points:"3 6 5 6 21 6"}),(0,t.jsx)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]},e.id))}),(0,t.jsx)(s,{isOpen:n,onClose:()=>u(!1),onSave:e=>{"add"===h?r(e):l(e.id,e)},course:c,mode:h})]})}var d=e.i(50901);function n({isOpen:e,onClose:i,onSave:r,shift:s,mode:o}){let[l,n]=(0,a.useState)({date:new Date().toISOString().split("T")[0],startTime:"09:00",endTime:"18:00",note:""});(0,a.useEffect)(()=>{s&&"edit"===o?n(s):"add"===o&&n({date:new Date().toISOString().split("T")[0],startTime:"09:00",endTime:"18:00",note:""})},[s,o]);let u=(e,t)=>{n(a=>({...a,[e]:t}))};return e?(0,t.jsx)("div",{className:d.default.overlay,onClick:i,children:(0,t.jsxs)("div",{className:`glass ${d.default.dialog}`,onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:d.default.header,children:[(0,t.jsx)("h2",{children:"add"===o?"æ–°å¢žæ‰“å·¥ç­è¡¨":"ç·¨è¼¯æ‰“å·¥ç­è¡¨"}),(0,t.jsx)("button",{className:d.default.closeButton,onClick:i,children:"âœ•"})]}),(0,t.jsxs)("form",{onSubmit:e=>{(e.preventDefault(),l.date&&l.startTime&&l.endTime)?(r({id:s?.id||`shift-${Date.now()}`,date:l.date,startTime:l.startTime,endTime:l.endTime,note:l.note}),i()):alert("è«‹å¡«å¯«æ‰€æœ‰å¿…å¡«æ¬„ä½")},className:d.default.form,children:[(0,t.jsxs)("div",{className:d.default.formGroup,children:[(0,t.jsxs)("label",{htmlFor:"date",children:["æ—¥æœŸ ",(0,t.jsx)("span",{className:d.default.required,children:"*"})]}),(0,t.jsx)("input",{id:"date",type:"date",value:l.date,onChange:e=>u("date",e.target.value),required:!0})]}),(0,t.jsxs)("div",{className:d.default.formRow,children:[(0,t.jsxs)("div",{className:d.default.formGroup,children:[(0,t.jsxs)("label",{htmlFor:"startTime",children:["é–‹å§‹æ™‚é–“ ",(0,t.jsx)("span",{className:d.default.required,children:"*"})]}),(0,t.jsx)("input",{id:"startTime",type:"time",value:l.startTime,onChange:e=>u("startTime",e.target.value),required:!0})]}),(0,t.jsxs)("div",{className:d.default.formGroup,children:[(0,t.jsxs)("label",{htmlFor:"endTime",children:["çµæŸæ™‚é–“ ",(0,t.jsx)("span",{className:d.default.required,children:"*"})]}),(0,t.jsx)("input",{id:"endTime",type:"time",value:l.endTime,onChange:e=>u("endTime",e.target.value),required:!0})]})]}),(0,t.jsxs)("div",{className:d.default.formGroup,children:[(0,t.jsx)("label",{htmlFor:"note",children:"å‚™è¨»"}),(0,t.jsx)("input",{id:"note",type:"text",value:l.note,onChange:e=>u("note",e.target.value),placeholder:"ä¾‹å¦‚ï¼šå†¬ä»¤ç‡ŸåŠ©æ•™"})]}),(0,t.jsxs)("div",{className:d.default.buttonGroup,children:[(0,t.jsx)("button",{type:"button",className:`btn ${d.default.cancelButton}`,onClick:i,children:"å–æ¶ˆ"}),(0,t.jsx)("button",{type:"submit",className:`btn ${d.default.saveButton}`,children:"add"===o?"æ–°å¢ž":"å„²å­˜"})]})]})]})}):null}var u=e.i(23898);function c(){let{shifts:e,addWorkShift:r,updateWorkShift:s,deleteWorkShift:o}=(0,i.useScheduleData)(),[l,d]=(0,a.useState)(!1),[c,m]=(0,a.useState)(null),[h,_]=(0,a.useState)("add"),f=()=>{m(null),_("add"),d(!0)},g=[...e].sort((e,t)=>t.date.localeCompare(e.date)),p={};return g.forEach(e=>{let t=e.date.substring(0,7);p[t]||(p[t]=[]),p[t].push(e)}),(0,t.jsxs)("div",{className:u.default.container,children:[(0,t.jsxs)("div",{className:u.default.header,children:[(0,t.jsx)("h2",{children:"æ‰“å·¥ç­è¡¨ç®¡ç†"}),(0,t.jsxs)("div",{className:u.default.headerActions,children:[(0,t.jsx)("button",{className:`btn ${u.default.copyButton}`,onClick:()=>{let t=new Date,a=new Date(t);a.setDate(t.getDate()-7),a.setHours(0,0,0,0);let i=new Date(t);i.setDate(t.getDate()-1),i.setHours(23,59,59,999);let s=e.filter(e=>{let t=new Date(e.date);return t>=a&&t<=i});0===s.length?alert("ä¸Šé€±æ²’æœ‰ç­è¡¨å¯ä»¥è¤‡è£½"):confirm(`ç¢ºå®šè¦è¤‡è£½ä¸Šé€±çš„ ${s.length} å€‹ç­è¡¨åˆ°æœ¬é€±å—Žï¼Ÿ`)&&(s.forEach(e=>{let t=new Date(e.date);t.setDate(t.getDate()+7),r({id:`shift-${Date.now()}-${Math.random()}`,date:t.toISOString().split("T")[0],startTime:e.startTime,endTime:e.endTime,note:e.note})}),alert(`å·²æˆåŠŸè¤‡è£½ ${s.length} å€‹ç­è¡¨åˆ°æœ¬é€±ï¼`))},title:"è¤‡è£½ä¸Šé€±ç­è¡¨",children:"ðŸ“‹ è¤‡è£½ä¸Šé€±"}),(0,t.jsx)("button",{className:`btn ${u.default.copyButton}`,onClick:()=>{let t=new Date,a=new Date(t.getFullYear(),t.getMonth()-1,1),i=new Date(t.getFullYear(),t.getMonth(),0),s=e.filter(e=>{let t=new Date(e.date);return t>=a&&t<=i});0===s.length?alert("ä¸Šå€‹æœˆæ²’æœ‰ç­è¡¨å¯ä»¥è¤‡è£½"):confirm(`ç¢ºå®šè¦è¤‡è£½ä¸Šå€‹æœˆçš„ ${s.length} å€‹ç­è¡¨åˆ°æœ¬æœˆå—Žï¼Ÿ

æ—¥æœŸæœƒè‡ªå‹•èª¿æ•´åˆ°æœ¬æœˆå°æ‡‰çš„æ—¥æœŸã€‚`)&&(s.forEach(e=>{let a=new Date(e.date).getDate(),i=new Date(t.getFullYear(),t.getMonth(),a);i.getMonth()!==t.getMonth()||r({id:`shift-${Date.now()}-${Math.random()}`,date:i.toISOString().split("T")[0],startTime:e.startTime,endTime:e.endTime,note:e.note})}),alert("å·²æˆåŠŸè¤‡è£½ç­è¡¨åˆ°æœ¬æœˆï¼"))},title:"è¤‡è£½ä¸Šæœˆç­è¡¨",children:"ðŸ“‹ è¤‡è£½ä¸Šæœˆ"}),(0,t.jsx)("button",{className:`btn ${u.default.addButton}`,onClick:f,children:"+ æ–°å¢žç­è¡¨"})]})]}),(0,t.jsx)("div",{className:u.default.shiftList,children:0===g.length?(0,t.jsxs)("div",{className:u.default.emptyState,children:[(0,t.jsx)("div",{className:u.default.emptyIcon,children:"ðŸ’¼"}),(0,t.jsx)("p",{children:"å°šæœªæ–°å¢žä»»ä½•ç­è¡¨"}),(0,t.jsx)("button",{className:"btn",onClick:f,children:"æ–°å¢žç¬¬ä¸€å€‹ç­è¡¨"})]}):Object.entries(p).map(([e,a])=>(0,t.jsxs)("div",{className:u.default.monthGroup,children:[(0,t.jsxs)("h3",{className:u.default.monthTitle,children:[e.split("-")[0]," å¹´ ",e.split("-")[1]," æœˆ",(0,t.jsxs)("span",{className:u.default.monthCount,children:["(",a.length," å¤©)"]})]}),(0,t.jsx)("div",{className:u.default.monthShifts,children:a.map(e=>(0,t.jsxs)("div",{className:`glass ${u.default.shiftCard}`,children:[(0,t.jsxs)("div",{className:u.default.shiftDate,children:[(0,t.jsx)("div",{className:u.default.shiftDay,children:new Date(e.date).getDate()}),(0,t.jsx)("div",{className:u.default.shiftWeekday,children:["æ—¥","ä¸€","äºŒ","ä¸‰","å››","äº”","å…­"][new Date(e.date).getDay()]})]}),(0,t.jsxs)("div",{className:u.default.shiftInfo,children:[(0,t.jsx)("div",{className:u.default.shiftNote,children:e.note||"æ‰“å·¥"}),(0,t.jsxs)("div",{className:u.default.shiftTime,children:[e.startTime," - ",e.endTime]})]}),(0,t.jsxs)("div",{className:u.default.shiftActions,children:[(0,t.jsx)("button",{className:u.default.editButton,onClick:()=>{m(e),_("edit"),d(!0)},title:"ç·¨è¼¯",children:(0,t.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,t.jsx)("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),(0,t.jsx)("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),(0,t.jsx)("button",{className:u.default.deleteButton,onClick:()=>{confirm(`ç¢ºå®šè¦åˆªé™¤ ${e.date} çš„ç­è¡¨å—Žï¼Ÿ`)&&o(e.id)},title:"åˆªé™¤",children:(0,t.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,t.jsx)("polyline",{points:"3 6 5 6 21 6"}),(0,t.jsx)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]},e.id))})]},e))}),(0,t.jsx)(n,{isOpen:l,onClose:()=>d(!1),onSave:e=>{"add"===h?r(e):s(e.id,e)},shift:c,mode:h})]})}var m=e.i(73494);function h(){let[e,i]=(0,a.useState)("courses");return(0,t.jsx)("div",{className:m.default.pageContainer,children:(0,t.jsxs)("div",{className:"glass card",children:[(0,t.jsxs)("div",{className:m.default.header,children:[(0,t.jsx)("h1",{children:"è³‡æ–™ç®¡ç†"}),(0,t.jsx)("p",{className:m.default.subtitle,children:"æ–°å¢žã€ç·¨è¼¯æˆ–åˆªé™¤èª²ç¨‹å’Œæ‰“å·¥ç­è¡¨"})]}),(0,t.jsxs)("div",{className:m.default.tabs,children:[(0,t.jsx)("button",{className:`${m.default.tab} ${"courses"===e?m.default.tabActive:""}`,onClick:()=>i("courses"),children:"ðŸ“š èª²ç¨‹ç®¡ç†"}),(0,t.jsx)("button",{className:`${m.default.tab} ${"work"===e?m.default.tabActive:""}`,onClick:()=>i("work"),children:"ðŸ’¼ æ‰“å·¥ç­è¡¨"})]}),(0,t.jsxs)("div",{className:m.default.content,children:["courses"===e&&(0,t.jsx)(l,{}),"work"===e&&(0,t.jsx)(c,{})]})]})})}e.s(["default",()=>h],28121)}]);