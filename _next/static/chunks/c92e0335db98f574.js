(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,8437,e=>{e.v({card:"LoginPrompt-module__ERCXna__card",container:"LoginPrompt-module__ERCXna__container",description:"LoginPrompt-module__ERCXna__description",footer:"LoginPrompt-module__ERCXna__footer",googleIcon:"LoginPrompt-module__ERCXna__googleIcon",icon:"LoginPrompt-module__ERCXna__icon",iconWrapper:"LoginPrompt-module__ERCXna__iconWrapper",loginButton:"LoginPrompt-module__ERCXna__loginButton",title:"LoginPrompt-module__ERCXna__title"})},93475,19119,24558,34759,e=>{"use strict";var t=e.i(71645),a=e.i(32341);let o=[{id:"mon-1",name:"è·æ¶¯åˆ†æžèˆ‡è¦åŠƒ",day:1,startTime:"08:10",endTime:"10:00",location:"åšæ„›CB105D",color:"#fca5a5"},{id:"mon-2",name:"åœ‹æ–‡(II)ï¼šèªžæ–‡è¡¨é”",day:1,startTime:"10:10",endTime:"12:00",location:"åšæ„›C306",color:"#fda4af"},{id:"mon-3",name:"æ•¸ä½é›»å­å­¸",day:1,startTime:"13:10",endTime:"16:00",location:"åšæ„›G313",color:"var(--color-primary)"},{id:"tue-1",name:"ç¶²éš›ç¶²è·¯æ¦‚è«–",day:2,startTime:"08:10",endTime:"10:00",location:"åšæ„›G512é›»è…¦æ•™å®¤",color:"#fdba74"},{id:"tue-2",name:"å¤§å­¸ç”Ÿæ´»å­¸ç¿’èˆ‡è¼”å°Ž",day:2,startTime:"13:10",endTime:"15:00",location:"åšæ„›G313",color:"var(--color-highlight)"},{id:"wed-1",name:"è‹±æ–‡(II)",day:3,startTime:"08:10",endTime:"10:00",location:"åšæ„›C608",color:"#86efac"},{id:"wed-2",name:"ç¾½çƒ",day:3,startTime:"10:10",endTime:"12:00",location:"åšæ„›å…¬èª æ¨“ç±ƒçƒå ´",color:"#bef264"},{id:"wed-3",name:"è³‡æ–™çµæ§‹",day:3,startTime:"15:10",endTime:"18:00",location:"åšæ„›G513é›»è…¦æ•™å®¤",color:"var(--color-secondary)"},{id:"fri-1",name:"æ°‘æ­Œèˆ‡å‰ä»–",day:5,startTime:"08:10",endTime:"10:00",location:"åšæ„›M304",color:"#93c5fd"},{id:"fri-2",name:"Pythonè³‡æ–™è¦–è¦ºåŒ–",day:5,startTime:"10:10",endTime:"12:00",location:"åšæ„›G521é›»è…¦æ•™å®¤",color:"#c4b5fd"},{id:"fri-3",name:"Cç¨‹å¼è¨­è¨ˆ",day:5,startTime:"13:10",endTime:"16:00",location:"åšæ„›G512é›»è…¦æ•™å®¤",color:"#a78bfa"}],i=[{id:"aut-1",date:"2026-01-11",startTime:"09:00",endTime:"18:00",note:"ç§‹å­£ç­"},{id:"aut-2",date:"2026-01-17",startTime:"09:00",endTime:"18:00",note:"ç§‹å­£ç­"},{id:"aut-3",date:"2026-01-18",startTime:"09:00",endTime:"18:00",note:"ç§‹å­£ç­"},{id:"win-1",date:"2026-01-27",startTime:"09:00",endTime:"18:00",note:"å†¬ä»¤ç‡ŸåŠ©æ•™"},{id:"win-2",date:"2026-01-29",startTime:"09:00",endTime:"18:00",note:"å†¬ä»¤ç‡ŸåŠ©æ•™"},{id:"win-3",date:"2026-02-02",startTime:"09:00",endTime:"18:00",note:"å†¬ä»¤ç‡ŸåŠ©æ•™"},{id:"win-4",date:"2026-02-04",startTime:"09:00",endTime:"18:00",note:"å†¬ä»¤ç‡ŸåŠ©æ•™"},{id:"win-5",date:"2026-02-05",startTime:"09:00",endTime:"18:00",note:"å†¬ä»¤ç‡ŸåŠ©æ•™"},{id:"win-6",date:"2026-02-06",startTime:"09:00",endTime:"18:00",note:"å†¬ä»¤ç‡ŸåŠ©æ•™"},{id:"win-7",date:"2026-02-09",startTime:"09:00",endTime:"18:00",note:"å†¬ä»¤ç‡ŸåŠ©æ•™"},{id:"win-8",date:"2026-02-10",startTime:"09:00",endTime:"18:00",note:"å†¬ä»¤ç‡ŸåŠ©æ•™"},{id:"win-9",date:"2026-02-11",startTime:"09:00",endTime:"18:00",note:"å†¬ä»¤ç‡ŸåŠ©æ•™"},{id:"win-10",date:"2026-02-13",startTime:"09:00",endTime:"18:00",note:"å†¬ä»¤ç‡ŸåŠ©æ•™"}],r=[{id:"sel-1",title:"å¿—é¡˜åºçµæžœæŸ¥è©¢ & æœ¬ç­é¸èª²",date:"2026-01-05",description:"09:00 æŸ¥è©¢çµæžœ / 19:00 é–‹å§‹é¸èª²",type:"deadline"},{id:"sel-2",title:"æœ¬ç³»é¸èª² (å«è¼”é›™)",date:"2026-01-06",description:"19:00 é–‹å§‹",type:"deadline"},{id:"sel-3",title:"è·¨ç³»/è·¨ç­é¸èª²",date:"2026-01-08",description:"19:00 é–‹å§‹",type:"deadline"},{id:"sel-4",title:"å…¨æ ¡ç¶²è·¯åŠ é€€é¸",date:"2026-02-23",description:"ä¸Šåˆ 10:00 é–‹å§‹",type:"deadline"},{id:"sel-5",title:"äººå·¥åŠ é€€é¸",date:"2026-03-02",description:"ä¸Šåˆ 09:00 é–‹å§‹",type:"personal"}];e.i(36180);var s=e.i(98925),n=e.i(59141);function d(e,t){if(!n.isFirebaseConfigured||!n.db)throw Error("Firebase æœªè¨­å®šï¼Œè«‹æª¢æŸ¥ç’°å¢ƒè®Šæ•¸");return(0,s.collection)(n.db,"shared","data",t)}async function l(e,t,a,o){if(!n.isFirebaseConfigured||!n.db)throw Error("Firebase æœªè¨­å®šï¼Œè«‹æª¢æŸ¥ç’°å¢ƒè®Šæ•¸");let i=(0,s.doc)(n.db,"shared","data",t,a);await (0,s.setDoc)(i,{...o,updatedAt:new Date().toISOString()})}async function c(e,t,...a){let o=d(e,t),i=a.length>0?(0,s.query)(o,...a):o;return(await (0,s.getDocs)(i)).docs.map(e=>({id:e.id,...e.data()}))}async function u(e,t,a,o){if(!n.isFirebaseConfigured||!n.db)throw Error("Firebase æœªè¨­å®šï¼Œè«‹æª¢æŸ¥ç’°å¢ƒè®Šæ•¸");let i=(0,s.doc)(n.db,"shared","data",t,a);await (0,s.updateDoc)(i,{...o,updatedAt:new Date().toISOString()})}async function m(e,t,a){if(!n.isFirebaseConfigured||!n.db)throw Error("Firebase æœªè¨­å®šï¼Œè«‹æª¢æŸ¥ç’°å¢ƒè®Šæ•¸");let o=(0,s.doc)(n.db,"shared","data",t,a);await (0,s.deleteDoc)(o)}function h(e,t,a,...o){let i=d(e,t),r=o.length>0?(0,s.query)(i,...o):i;return(0,s.onSnapshot)(r,e=>{a(e.docs.map(e=>({id:e.id,...e.data()})))})}async function _(e,t,a){let o=a.map(a=>{let{id:o,...i}=a;return l(e,t,o,i)});await Promise.all(o)}function f(e){return!!e}e.s(["batchSetDocuments",()=>_,"deleteDocument",()=>m,"getDocuments",()=>c,"setDocument",()=>l,"subscribeToCollection",()=>h,"updateDocument",()=>u],19119),e.s(["hasWriteAccess",()=>f],24558);let p="shared";function x(){let{user:e}=(0,a.useAuth)(),[s,n]=(0,t.useState)([]),[d,f]=(0,t.useState)([]),[x,g]=(0,t.useState)([]),[j,v]=(0,t.useState)(!0),[T,w]=(0,t.useState)(!1),C=async()=>{try{let e=await c(p,"courses"),t=await c(p,"workShifts"),a=await c(p,"events");0===e.length&&await _(p,"courses",o),0===t.length&&await _(p,"workShifts",i),0===a.length&&await _(p,"events",r)}catch(e){console.error("âŒ åˆå§‹åŒ–é è¨­è³‡æ–™å¤±æ•—:",e)}};(0,t.useEffect)(()=>{if(!e){n([]),f([]),g([]),v(!1),w(!1);return}v(!0),w(!!e.email),C().then(()=>{v(!1)});let t=h(p,"courses",e=>n(e)),a=h(p,"workShifts",e=>f(e)),o=h(p,"events",e=>g(e));return()=>{t(),a(),o()}},[e]);let y=async t=>{e&&T?await l(p,"courses",t.id,t):console.warn("âŒ ç„¡ç·¨è¼¯æ¬Šé™")},N=async(t,a)=>{e&&T?await u(p,"courses",t,a):console.warn("âŒ ç„¡ç·¨è¼¯æ¬Šé™")},b=async t=>{e&&T?await m(p,"courses",t):console.warn("âŒ ç„¡ç·¨è¼¯æ¬Šé™")},W=async t=>{e&&T?await l(p,"workShifts",t.id,t):console.warn("âŒ ç„¡ç·¨è¼¯æ¬Šé™")},k=async(t,a)=>{e&&T?await u(p,"workShifts",t,a):console.warn("âŒ ç„¡ç·¨è¼¯æ¬Šé™")},S=async t=>{e&&T?await m(p,"workShifts",t):console.warn("âŒ ç„¡ç·¨è¼¯æ¬Šé™")},M=async t=>{e&&T?await l(p,"events",t.id,t):console.warn("âŒ ç„¡ç·¨è¼¯æ¬Šé™")},D=async(t,a)=>{e&&T?await u(p,"events",t,a):console.warn("âŒ ç„¡ç·¨è¼¯æ¬Šé™")},B=async t=>{e&&T?await m(p,"events",t):console.warn("âŒ ç„¡ç·¨è¼¯æ¬Šé™")};return{courses:s,shifts:d,events:x,loading:j,canEdit:T,addCourse:y,updateCourse:N,deleteCourse:b,addWorkShift:W,updateWorkShift:k,deleteWorkShift:S,addEvent:M,updateEvent:D,deleteEvent:B}}e.s(["useScheduleData",()=>x],93475);var g=e.i(43476),j=e.i(8437);function v(){let{signInWithGoogle:e}=(0,a.useAuth)(),t=async()=>{try{await e()}catch(e){console.error("ç™»å…¥å¤±æ•—:",e),alert("ç™»å…¥å¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦")}};return(0,g.jsx)("div",{className:j.default.container,children:(0,g.jsxs)("div",{className:j.default.card,children:[(0,g.jsx)("div",{className:j.default.iconWrapper,children:(0,g.jsx)("svg",{className:j.default.icon,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,g.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),(0,g.jsx)("h2",{className:j.default.title,children:"éœ€è¦ç™»å…¥"}),(0,g.jsx)("p",{className:j.default.description,children:"è«‹å…ˆä½¿ç”¨ Google å¸³è™Ÿç™»å…¥ï¼Œæ‰èƒ½æŸ¥çœ‹èª²è¡¨è³‡æ–™"}),(0,g.jsxs)("button",{onClick:t,className:j.default.loginButton,children:[(0,g.jsxs)("svg",{className:j.default.googleIcon,viewBox:"0 0 24 24",children:[(0,g.jsx)("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,g.jsx)("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,g.jsx)("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,g.jsx)("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"ä½¿ç”¨ Google ç™»å…¥"]}),(0,g.jsx)("p",{className:j.default.footer,children:"åƒ…é™æŽˆæ¬Šçš„å®¶åº­æˆå“¡ç™»å…¥"})]})})}e.s(["default",()=>v],34759)},7881,e=>{e.v({buttonGroup:"CourseEditor-module__MXGihW__buttonGroup",cancelButton:"CourseEditor-module__MXGihW__cancelButton",closeButton:"CourseEditor-module__MXGihW__closeButton",colorPicker:"CourseEditor-module__MXGihW__colorPicker",dialog:"CourseEditor-module__MXGihW__dialog",fadeIn:"CourseEditor-module__MXGihW__fadeIn",form:"CourseEditor-module__MXGihW__form",formGroup:"CourseEditor-module__MXGihW__formGroup",formRow:"CourseEditor-module__MXGihW__formRow",header:"CourseEditor-module__MXGihW__header",overlay:"CourseEditor-module__MXGihW__overlay",required:"CourseEditor-module__MXGihW__required",saveButton:"CourseEditor-module__MXGihW__saveButton",slideUp:"CourseEditor-module__MXGihW__slideUp"})},34044,e=>{e.v({addButton:"CourseManager-module__Du1rrW__addButton",colorBar:"CourseManager-module__Du1rrW__colorBar",container:"CourseManager-module__Du1rrW__container",courseActions:"CourseManager-module__Du1rrW__courseActions",courseCard:"CourseManager-module__Du1rrW__courseCard",courseDetails:"CourseManager-module__Du1rrW__courseDetails",courseInfo:"CourseManager-module__Du1rrW__courseInfo",courseList:"CourseManager-module__Du1rrW__courseList",courseName:"CourseManager-module__Du1rrW__courseName",deleteButton:"CourseManager-module__Du1rrW__deleteButton",editButton:"CourseManager-module__Du1rrW__editButton",emptyIcon:"CourseManager-module__Du1rrW__emptyIcon",emptyState:"CourseManager-module__Du1rrW__emptyState",header:"CourseManager-module__Du1rrW__header"})},50901,e=>{e.v({buttonGroup:"WorkShiftEditor-module__FaUwMW__buttonGroup",cancelButton:"WorkShiftEditor-module__FaUwMW__cancelButton",closeButton:"WorkShiftEditor-module__FaUwMW__closeButton",colorPicker:"WorkShiftEditor-module__FaUwMW__colorPicker",dialog:"WorkShiftEditor-module__FaUwMW__dialog",fadeIn:"WorkShiftEditor-module__FaUwMW__fadeIn",form:"WorkShiftEditor-module__FaUwMW__form",formGroup:"WorkShiftEditor-module__FaUwMW__formGroup",formRow:"WorkShiftEditor-module__FaUwMW__formRow",header:"WorkShiftEditor-module__FaUwMW__header",overlay:"WorkShiftEditor-module__FaUwMW__overlay",required:"WorkShiftEditor-module__FaUwMW__required",saveButton:"WorkShiftEditor-module__FaUwMW__saveButton",slideUp:"WorkShiftEditor-module__FaUwMW__slideUp"})},23898,e=>{e.v({addButton:"WorkShiftManager-module__7h42rq__addButton",container:"WorkShiftManager-module__7h42rq__container",copyButton:"WorkShiftManager-module__7h42rq__copyButton",deleteButton:"WorkShiftManager-module__7h42rq__deleteButton",editButton:"WorkShiftManager-module__7h42rq__editButton",emptyIcon:"WorkShiftManager-module__7h42rq__emptyIcon",emptyState:"WorkShiftManager-module__7h42rq__emptyState",header:"WorkShiftManager-module__7h42rq__header",headerActions:"WorkShiftManager-module__7h42rq__headerActions",monthCount:"WorkShiftManager-module__7h42rq__monthCount",monthGroup:"WorkShiftManager-module__7h42rq__monthGroup",monthShifts:"WorkShiftManager-module__7h42rq__monthShifts",monthTitle:"WorkShiftManager-module__7h42rq__monthTitle",shiftActions:"WorkShiftManager-module__7h42rq__shiftActions",shiftCard:"WorkShiftManager-module__7h42rq__shiftCard",shiftDate:"WorkShiftManager-module__7h42rq__shiftDate",shiftDay:"WorkShiftManager-module__7h42rq__shiftDay",shiftInfo:"WorkShiftManager-module__7h42rq__shiftInfo",shiftList:"WorkShiftManager-module__7h42rq__shiftList",shiftNote:"WorkShiftManager-module__7h42rq__shiftNote",shiftTime:"WorkShiftManager-module__7h42rq__shiftTime",shiftWeekday:"WorkShiftManager-module__7h42rq__shiftWeekday"})},73494,e=>{e.v({content:"page-module__4ucO_G__content",fadeIn:"page-module__4ucO_G__fadeIn",header:"page-module__4ucO_G__header",pageContainer:"page-module__4ucO_G__pageContainer",subtitle:"page-module__4ucO_G__subtitle",tab:"page-module__4ucO_G__tab",tabActive:"page-module__4ucO_G__tabActive",tabs:"page-module__4ucO_G__tabs"})},28121,e=>{"use strict";var t=e.i(43476),a=e.i(71645),o=e.i(93475),i=e.i(7881);function r({isOpen:e,onClose:o,onSave:r,course:s,mode:n}){let[d,l]=(0,a.useState)({name:"",day:1,startTime:"08:10",endTime:"10:00",location:"",color:"#818cf8"});(0,a.useEffect)(()=>{s&&"edit"===n?l(s):"add"===n&&l({name:"",day:1,startTime:"08:10",endTime:"10:00",location:"",color:"#818cf8"})},[s,n]);let c=(e,t)=>{l(a=>({...a,[e]:t}))};return e?(0,t.jsx)("div",{className:i.default.overlay,onClick:o,children:(0,t.jsxs)("div",{className:`glass ${i.default.dialog}`,onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:i.default.header,children:[(0,t.jsx)("h2",{children:"add"===n?"æ–°å¢žèª²ç¨‹":"ç·¨è¼¯èª²ç¨‹"}),(0,t.jsx)("button",{className:i.default.closeButton,onClick:o,children:"âœ•"})]}),(0,t.jsxs)("form",{onSubmit:e=>{(e.preventDefault(),d.name&&d.startTime&&d.endTime)?(r({id:s?.id||`course-${Date.now()}`,name:d.name,day:d.day,startTime:d.startTime,endTime:d.endTime,location:d.location,color:d.color}),o()):alert("è«‹å¡«å¯«æ‰€æœ‰å¿…å¡«æ¬„ä½")},className:i.default.form,children:[(0,t.jsxs)("div",{className:i.default.formGroup,children:[(0,t.jsxs)("label",{htmlFor:"name",children:["èª²ç¨‹åç¨± ",(0,t.jsx)("span",{className:i.default.required,children:"*"})]}),(0,t.jsx)("input",{id:"name",type:"text",value:d.name,onChange:e=>c("name",e.target.value),placeholder:"ä¾‹å¦‚ï¼šè³‡æ–™çµæ§‹",required:!0})]}),(0,t.jsxs)("div",{className:i.default.formRow,children:[(0,t.jsxs)("div",{className:i.default.formGroup,children:[(0,t.jsxs)("label",{htmlFor:"day",children:["æ˜ŸæœŸ ",(0,t.jsx)("span",{className:i.default.required,children:"*"})]}),(0,t.jsxs)("select",{id:"day",value:d.day,onChange:e=>c("day",parseInt(e.target.value)),children:[(0,t.jsx)("option",{value:1,children:"æ˜ŸæœŸä¸€"}),(0,t.jsx)("option",{value:2,children:"æ˜ŸæœŸäºŒ"}),(0,t.jsx)("option",{value:3,children:"æ˜ŸæœŸä¸‰"}),(0,t.jsx)("option",{value:4,children:"æ˜ŸæœŸå››"}),(0,t.jsx)("option",{value:5,children:"æ˜ŸæœŸäº”"}),(0,t.jsx)("option",{value:6,children:"æ˜ŸæœŸå…­"}),(0,t.jsx)("option",{value:7,children:"æ˜ŸæœŸæ—¥"})]})]}),(0,t.jsxs)("div",{className:i.default.formGroup,children:[(0,t.jsx)("label",{htmlFor:"color",children:"é¡è‰²"}),(0,t.jsx)("input",{id:"color",type:"color",value:d.color,onChange:e=>c("color",e.target.value),className:i.default.colorPicker})]})]}),(0,t.jsxs)("div",{className:i.default.formRow,children:[(0,t.jsxs)("div",{className:i.default.formGroup,children:[(0,t.jsxs)("label",{htmlFor:"startTime",children:["é–‹å§‹æ™‚é–“ ",(0,t.jsx)("span",{className:i.default.required,children:"*"})]}),(0,t.jsx)("input",{id:"startTime",type:"time",value:d.startTime,onChange:e=>c("startTime",e.target.value),required:!0})]}),(0,t.jsxs)("div",{className:i.default.formGroup,children:[(0,t.jsxs)("label",{htmlFor:"endTime",children:["çµæŸæ™‚é–“ ",(0,t.jsx)("span",{className:i.default.required,children:"*"})]}),(0,t.jsx)("input",{id:"endTime",type:"time",value:d.endTime,onChange:e=>c("endTime",e.target.value),required:!0})]})]}),(0,t.jsxs)("div",{className:i.default.formGroup,children:[(0,t.jsx)("label",{htmlFor:"location",children:"åœ°é»ž"}),(0,t.jsx)("input",{id:"location",type:"text",value:d.location,onChange:e=>c("location",e.target.value),placeholder:"ä¾‹å¦‚ï¼šåšæ„›G513é›»è…¦æ•™å®¤"})]}),(0,t.jsxs)("div",{className:i.default.buttonGroup,children:[(0,t.jsx)("button",{type:"button",className:`btn ${i.default.cancelButton}`,onClick:o,children:"å–æ¶ˆ"}),(0,t.jsx)("button",{type:"submit",className:`btn ${i.default.saveButton}`,children:"add"===n?"æ–°å¢ž":"å„²å­˜"})]})]})]})}):null}var s=e.i(34044);function n(){let{courses:e,addCourse:i,updateCourse:n,deleteCourse:d}=(0,o.useScheduleData)(),[l,c]=(0,a.useState)(!1),[u,m]=(0,a.useState)(null),[h,_]=(0,a.useState)("add"),f=["","ä¸€","äºŒ","ä¸‰","å››","äº”","å…­","æ—¥"],p=()=>{m(null),_("add"),c(!0)},x=[...e].sort((e,t)=>e.day!==t.day?e.day-t.day:e.startTime.localeCompare(t.startTime));return(0,t.jsxs)("div",{className:s.default.container,children:[(0,t.jsxs)("div",{className:s.default.header,children:[(0,t.jsx)("h2",{children:"èª²ç¨‹ç®¡ç†"}),(0,t.jsx)("button",{className:`btn ${s.default.addButton}`,onClick:p,children:"+ æ–°å¢žèª²ç¨‹"})]}),(0,t.jsx)("div",{className:s.default.courseList,children:0===x.length?(0,t.jsxs)("div",{className:s.default.emptyState,children:[(0,t.jsx)("div",{className:s.default.emptyIcon,children:"ðŸ“š"}),(0,t.jsx)("p",{children:"å°šæœªæ–°å¢žä»»ä½•èª²ç¨‹"}),(0,t.jsx)("button",{className:"btn",onClick:p,children:"æ–°å¢žç¬¬ä¸€å ‚èª²"})]}):x.map(e=>(0,t.jsxs)("div",{className:`glass ${s.default.courseCard}`,children:[(0,t.jsx)("div",{className:s.default.colorBar,style:{backgroundColor:e.color||"#818cf8"}}),(0,t.jsxs)("div",{className:s.default.courseInfo,children:[(0,t.jsx)("div",{className:s.default.courseName,children:e.name}),(0,t.jsxs)("div",{className:s.default.courseDetails,children:[(0,t.jsxs)("span",{children:["æ˜ŸæœŸ",f[e.day]]}),(0,t.jsxs)("span",{children:[e.startTime," - ",e.endTime]}),e.location&&(0,t.jsx)("span",{children:e.location})]})]}),(0,t.jsxs)("div",{className:s.default.courseActions,children:[(0,t.jsx)("button",{className:s.default.editButton,onClick:()=>{m(e),_("edit"),c(!0)},title:"ç·¨è¼¯",children:(0,t.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,t.jsx)("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),(0,t.jsx)("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),(0,t.jsx)("button",{className:s.default.deleteButton,onClick:()=>{confirm(`ç¢ºå®šè¦åˆªé™¤ã€Œ${e.name}ã€å—Žï¼Ÿ`)&&d(e.id)},title:"åˆªé™¤",children:(0,t.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,t.jsx)("polyline",{points:"3 6 5 6 21 6"}),(0,t.jsx)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]},e.id))}),(0,t.jsx)(r,{isOpen:l,onClose:()=>c(!1),onSave:e=>{"add"===h?i(e):n(e.id,e)},course:u,mode:h})]})}var d=e.i(50901);function l({isOpen:e,onClose:o,onSave:i,shift:r,mode:s}){let[n,l]=(0,a.useState)({date:new Date().toISOString().split("T")[0],startTime:"09:00",endTime:"18:00",note:""});(0,a.useEffect)(()=>{r&&"edit"===s?l(r):"add"===s&&l({date:new Date().toISOString().split("T")[0],startTime:"09:00",endTime:"18:00",note:""})},[r,s]);let c=(e,t)=>{l(a=>({...a,[e]:t}))};return e?(0,t.jsx)("div",{className:d.default.overlay,onClick:o,children:(0,t.jsxs)("div",{className:`glass ${d.default.dialog}`,onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:d.default.header,children:[(0,t.jsx)("h2",{children:"add"===s?"æ–°å¢žæ‰“å·¥ç­è¡¨":"ç·¨è¼¯æ‰“å·¥ç­è¡¨"}),(0,t.jsx)("button",{className:d.default.closeButton,onClick:o,children:"âœ•"})]}),(0,t.jsxs)("form",{onSubmit:e=>{(e.preventDefault(),n.date&&n.startTime&&n.endTime)?(i({id:r?.id||`shift-${Date.now()}`,date:n.date,startTime:n.startTime,endTime:n.endTime,note:n.note}),o()):alert("è«‹å¡«å¯«æ‰€æœ‰å¿…å¡«æ¬„ä½")},className:d.default.form,children:[(0,t.jsxs)("div",{className:d.default.formGroup,children:[(0,t.jsxs)("label",{htmlFor:"date",children:["æ—¥æœŸ ",(0,t.jsx)("span",{className:d.default.required,children:"*"})]}),(0,t.jsx)("input",{id:"date",type:"date",value:n.date,onChange:e=>c("date",e.target.value),required:!0})]}),(0,t.jsxs)("div",{className:d.default.formRow,children:[(0,t.jsxs)("div",{className:d.default.formGroup,children:[(0,t.jsxs)("label",{htmlFor:"startTime",children:["é–‹å§‹æ™‚é–“ ",(0,t.jsx)("span",{className:d.default.required,children:"*"})]}),(0,t.jsx)("input",{id:"startTime",type:"time",value:n.startTime,onChange:e=>c("startTime",e.target.value),required:!0})]}),(0,t.jsxs)("div",{className:d.default.formGroup,children:[(0,t.jsxs)("label",{htmlFor:"endTime",children:["çµæŸæ™‚é–“ ",(0,t.jsx)("span",{className:d.default.required,children:"*"})]}),(0,t.jsx)("input",{id:"endTime",type:"time",value:n.endTime,onChange:e=>c("endTime",e.target.value),required:!0})]})]}),(0,t.jsxs)("div",{className:d.default.formGroup,children:[(0,t.jsx)("label",{htmlFor:"note",children:"å‚™è¨»"}),(0,t.jsx)("input",{id:"note",type:"text",value:n.note,onChange:e=>c("note",e.target.value),placeholder:"ä¾‹å¦‚ï¼šå†¬ä»¤ç‡ŸåŠ©æ•™"})]}),(0,t.jsxs)("div",{className:d.default.buttonGroup,children:[(0,t.jsx)("button",{type:"button",className:`btn ${d.default.cancelButton}`,onClick:o,children:"å–æ¶ˆ"}),(0,t.jsx)("button",{type:"submit",className:`btn ${d.default.saveButton}`,children:"add"===s?"æ–°å¢ž":"å„²å­˜"})]})]})]})}):null}var c=e.i(23898);function u(){let{shifts:e,addWorkShift:i,updateWorkShift:r,deleteWorkShift:s}=(0,o.useScheduleData)(),[n,d]=(0,a.useState)(!1),[u,m]=(0,a.useState)(null),[h,_]=(0,a.useState)("add"),f=()=>{m(null),_("add"),d(!0)},p=[...e].sort((e,t)=>t.date.localeCompare(e.date)),x={};return p.forEach(e=>{let t=e.date.substring(0,7);x[t]||(x[t]=[]),x[t].push(e)}),(0,t.jsxs)("div",{className:c.default.container,children:[(0,t.jsxs)("div",{className:c.default.header,children:[(0,t.jsx)("h2",{children:"æ‰“å·¥ç­è¡¨ç®¡ç†"}),(0,t.jsxs)("div",{className:c.default.headerActions,children:[(0,t.jsx)("button",{className:`btn ${c.default.copyButton}`,onClick:()=>{let t=new Date,a=new Date(t);a.setDate(t.getDate()-7),a.setHours(0,0,0,0);let o=new Date(t);o.setDate(t.getDate()-1),o.setHours(23,59,59,999);let r=e.filter(e=>{let t=new Date(e.date);return t>=a&&t<=o});0===r.length?alert("ä¸Šé€±æ²’æœ‰ç­è¡¨å¯ä»¥è¤‡è£½"):confirm(`ç¢ºå®šè¦è¤‡è£½ä¸Šé€±çš„ ${r.length} å€‹ç­è¡¨åˆ°æœ¬é€±å—Žï¼Ÿ`)&&(r.forEach(e=>{let t=new Date(e.date);t.setDate(t.getDate()+7),i({id:`shift-${Date.now()}-${Math.random()}`,date:t.toISOString().split("T")[0],startTime:e.startTime,endTime:e.endTime,note:e.note})}),alert(`å·²æˆåŠŸè¤‡è£½ ${r.length} å€‹ç­è¡¨åˆ°æœ¬é€±ï¼`))},title:"è¤‡è£½ä¸Šé€±ç­è¡¨",children:"ðŸ“‹ è¤‡è£½ä¸Šé€±"}),(0,t.jsx)("button",{className:`btn ${c.default.copyButton}`,onClick:()=>{let t=new Date,a=new Date(t.getFullYear(),t.getMonth()-1,1),o=new Date(t.getFullYear(),t.getMonth(),0),r=e.filter(e=>{let t=new Date(e.date);return t>=a&&t<=o});0===r.length?alert("ä¸Šå€‹æœˆæ²’æœ‰ç­è¡¨å¯ä»¥è¤‡è£½"):confirm(`ç¢ºå®šè¦è¤‡è£½ä¸Šå€‹æœˆçš„ ${r.length} å€‹ç­è¡¨åˆ°æœ¬æœˆå—Žï¼Ÿ

æ—¥æœŸæœƒè‡ªå‹•èª¿æ•´åˆ°æœ¬æœˆå°æ‡‰çš„æ—¥æœŸã€‚`)&&(r.forEach(e=>{let a=new Date(e.date).getDate(),o=new Date(t.getFullYear(),t.getMonth(),a);o.getMonth()!==t.getMonth()||i({id:`shift-${Date.now()}-${Math.random()}`,date:o.toISOString().split("T")[0],startTime:e.startTime,endTime:e.endTime,note:e.note})}),alert("å·²æˆåŠŸè¤‡è£½ç­è¡¨åˆ°æœ¬æœˆï¼"))},title:"è¤‡è£½ä¸Šæœˆç­è¡¨",children:"ðŸ“‹ è¤‡è£½ä¸Šæœˆ"}),(0,t.jsx)("button",{className:`btn ${c.default.addButton}`,onClick:f,children:"+ æ–°å¢žç­è¡¨"})]})]}),(0,t.jsx)("div",{className:c.default.shiftList,children:0===p.length?(0,t.jsxs)("div",{className:c.default.emptyState,children:[(0,t.jsx)("div",{className:c.default.emptyIcon,children:"ðŸ’¼"}),(0,t.jsx)("p",{children:"å°šæœªæ–°å¢žä»»ä½•ç­è¡¨"}),(0,t.jsx)("button",{className:"btn",onClick:f,children:"æ–°å¢žç¬¬ä¸€å€‹ç­è¡¨"})]}):Object.entries(x).map(([e,a])=>(0,t.jsxs)("div",{className:c.default.monthGroup,children:[(0,t.jsxs)("h3",{className:c.default.monthTitle,children:[e.split("-")[0]," å¹´ ",e.split("-")[1]," æœˆ",(0,t.jsxs)("span",{className:c.default.monthCount,children:["(",a.length," å¤©)"]})]}),(0,t.jsx)("div",{className:c.default.monthShifts,children:a.map(e=>(0,t.jsxs)("div",{className:`glass ${c.default.shiftCard}`,children:[(0,t.jsxs)("div",{className:c.default.shiftDate,children:[(0,t.jsx)("div",{className:c.default.shiftDay,children:new Date(e.date).getDate()}),(0,t.jsx)("div",{className:c.default.shiftWeekday,children:["æ—¥","ä¸€","äºŒ","ä¸‰","å››","äº”","å…­"][new Date(e.date).getDay()]})]}),(0,t.jsxs)("div",{className:c.default.shiftInfo,children:[(0,t.jsx)("div",{className:c.default.shiftNote,children:e.note||"æ‰“å·¥"}),(0,t.jsxs)("div",{className:c.default.shiftTime,children:[e.startTime," - ",e.endTime]})]}),(0,t.jsxs)("div",{className:c.default.shiftActions,children:[(0,t.jsx)("button",{className:c.default.editButton,onClick:()=>{m(e),_("edit"),d(!0)},title:"ç·¨è¼¯",children:(0,t.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,t.jsx)("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),(0,t.jsx)("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),(0,t.jsx)("button",{className:c.default.deleteButton,onClick:()=>{confirm(`ç¢ºå®šè¦åˆªé™¤ ${e.date} çš„ç­è¡¨å—Žï¼Ÿ`)&&s(e.id)},title:"åˆªé™¤",children:(0,t.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,t.jsx)("polyline",{points:"3 6 5 6 21 6"}),(0,t.jsx)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]},e.id))})]},e))}),(0,t.jsx)(l,{isOpen:n,onClose:()=>d(!1),onSave:e=>{"add"===h?i(e):r(e.id,e)},shift:u,mode:h})]})}var m=e.i(32341),h=e.i(34759),_=e.i(73494);function f(){let{user:e,loading:o}=(0,m.useAuth)(),[i,r]=(0,a.useState)("courses");return o?(0,t.jsx)("div",{style:{padding:"2rem",textAlign:"center"},children:"è¼‰å…¥ä¸­..."}):e?(0,t.jsx)("div",{className:_.default.pageContainer,children:(0,t.jsxs)("div",{className:"glass card",children:[(0,t.jsxs)("div",{className:_.default.header,children:[(0,t.jsx)("h1",{children:"è³‡æ–™ç®¡ç†"}),(0,t.jsx)("p",{className:_.default.subtitle,children:"æ–°å¢žã€ç·¨è¼¯æˆ–åˆªé™¤èª²ç¨‹å’Œæ‰“å·¥ç­è¡¨"})]}),(0,t.jsxs)("div",{className:_.default.tabs,children:[(0,t.jsx)("button",{className:`${_.default.tab} ${"courses"===i?_.default.tabActive:""}`,onClick:()=>r("courses"),children:"ðŸ“š èª²ç¨‹ç®¡ç†"}),(0,t.jsx)("button",{className:`${_.default.tab} ${"work"===i?_.default.tabActive:""}`,onClick:()=>r("work"),children:"ðŸ’¼ æ‰“å·¥ç­è¡¨"})]}),(0,t.jsxs)("div",{className:_.default.content,children:["courses"===i&&(0,t.jsx)(n,{}),"work"===i&&(0,t.jsx)(u,{})]})]})}):(0,t.jsx)(h.default,{})}e.s(["default",()=>f],28121)}]);