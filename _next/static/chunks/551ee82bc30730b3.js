(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,19119,e=>{"use strict";e.i(36180);var t=e.i(98925),a=e.i(59141);function o(e){let t={};for(let[a,o]of Object.entries(e))void 0!==o&&(t[a]=o);return t}function r(e,o){if(!a.isFirebaseConfigured||!a.db)throw Error("Firebase æœªè¨­å®šï¼Œè«‹æª¢æŸ¥ç’°å¢ƒè®Šæ•¸");return(0,t.collection)(a.db,"shared","data",o)}async function i(e,a,i){let s=r(e,a),n=o({...i,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()});return(await (0,t.addDoc)(s,n)).id}async function s(e,r,i,s){if(!a.isFirebaseConfigured||!a.db)throw Error("Firebase æœªè¨­å®šï¼Œè«‹æª¢æŸ¥ç’°å¢ƒè®Šæ•¸");let n=(0,t.doc)(a.db,"shared","data",r,i),d=o({...s,updatedAt:new Date().toISOString()});await (0,t.setDoc)(n,d)}async function n(e,a,...o){let i=r(e,a),s=o.length>0?(0,t.query)(i,...o):i;return(await (0,t.getDocs)(s)).docs.map(e=>({id:e.id,...e.data()}))}async function d(e,r,i,s){if(!a.isFirebaseConfigured||!a.db)throw Error("Firebase æœªè¨­å®šï¼Œè«‹æª¢æŸ¥ç’°å¢ƒè®Šæ•¸");let n=(0,t.doc)(a.db,"shared","data",r,i),d=o({...s,updatedAt:new Date().toISOString()});await (0,t.updateDoc)(n,d)}async function l(e,o,r){if(!a.isFirebaseConfigured||!a.db)throw Error("Firebase æœªè¨­å®šï¼Œè«‹æª¢æŸ¥ç’°å¢ƒè®Šæ•¸");let i=(0,t.doc)(a.db,"shared","data",o,r);await (0,t.deleteDoc)(i)}function u(e,a,o,...i){let s=r(e,a),n=i.length>0?(0,t.query)(s,...i):s;return(0,t.onSnapshot)(n,e=>{o(e.docs.map(e=>({id:e.id,...e.data()})))})}async function c(e,t,a){let o=a.map(a=>{let{id:o,...r}=a;return s(e,t,o,r)});await Promise.all(o)}function m(e){return u("shared","gameGuides",e,(0,t.orderBy)("order","asc"))}async function h(e){return i("shared","gameGuides",e)}async function _(e,t){return d("shared","gameGuides",e,t)}async function f(e){return l("shared","gameGuides",e)}async function p(e){let t=e.map(e=>h(e));await Promise.all(t)}function g(e){return u("shared","courseNotes",e,(0,t.orderBy)("createdAt","desc"))}function x(e,a){return u("shared","courseNotes",a,(0,t.where)("courseId","==",e),(0,t.orderBy)("createdAt","desc"))}async function v(e){return i("shared","courseNotes",e)}async function j(e,t){return d("shared","courseNotes",e,t)}async function T(e){return l("shared","courseNotes",e)}async function w(e,t){return j(e,{completed:t})}async function C(){return(await n("shared","courseNotes",(0,t.where)("completed","==",!1),(0,t.where)("type","in",["homework","exam"]))).filter(e=>e.dueDate).sort((e,t)=>e.dueDate&&t.dueDate?new Date(e.dueDate).getTime()-new Date(t.dueDate).getTime():0)}e.s(["addCourseNote",()=>v,"addGameGuide",()=>h,"batchImportGameGuides",()=>p,"batchSetDocuments",()=>c,"deleteCourseNote",()=>T,"deleteDocument",()=>l,"deleteGameGuide",()=>f,"getDocuments",()=>n,"getIncompleteTasks",()=>C,"setDocument",()=>s,"subscribeToCollection",()=>u,"subscribeToCourseNotes",()=>g,"subscribeToCourseNotesByCourse",()=>x,"subscribeToGameGuides",()=>m,"toggleCourseNoteCompletion",()=>w,"updateCourseNote",()=>j,"updateDocument",()=>d,"updateGameGuide",()=>_])},8437,e=>{e.v({card:"LoginPrompt-module__ERCXna__card",container:"LoginPrompt-module__ERCXna__container",description:"LoginPrompt-module__ERCXna__description",footer:"LoginPrompt-module__ERCXna__footer",googleIcon:"LoginPrompt-module__ERCXna__googleIcon",icon:"LoginPrompt-module__ERCXna__icon",iconWrapper:"LoginPrompt-module__ERCXna__iconWrapper",loginButton:"LoginPrompt-module__ERCXna__loginButton",title:"LoginPrompt-module__ERCXna__title"})},93475,24558,34759,e=>{"use strict";var t=e.i(71645),a=e.i(32341);let o=[{id:"mon-1",name:"è·æ¶¯åˆ†æžèˆ‡è¦åŠƒ",day:1,startTime:"08:10",endTime:"10:00",location:"åšæ„›CB105D",color:"#FCD34D"},{id:"mon-2",name:"åœ‹æ–‡(II)ï¼šèªžæ–‡è¡¨é”",day:1,startTime:"10:10",endTime:"12:00",location:"åšæ„›C306",color:"#FB923C"},{id:"mon-3",name:"æ•¸ä½é›»å­å­¸",day:1,startTime:"13:10",endTime:"16:00",location:"åšæ„›G313",color:"#A78BFA"},{id:"tue-1",name:"ç¶²éš›ç¶²è·¯æ¦‚è«–",day:2,startTime:"08:10",endTime:"10:00",location:"åšæ„›G512é›»è…¦æ•™å®¤",color:"#60A5FA"},{id:"tue-2",name:"å¤§å­¸ç”Ÿæ´»å­¸ç¿’èˆ‡è¼”å°Ž",day:2,startTime:"13:10",endTime:"15:00",location:"åšæ„›G313",color:"#F9A8D4"},{id:"wed-1",name:"è‹±æ–‡(II)",day:3,startTime:"08:10",endTime:"10:00",location:"åšæ„›C608",color:"#34D399"},{id:"wed-2",name:"ç¾½çƒ",day:3,startTime:"10:10",endTime:"12:00",location:"åšæ„›å…¬èª æ¨“ç±ƒçƒå ´",color:"#F87171"},{id:"wed-3",name:"è³‡æ–™çµæ§‹",day:3,startTime:"15:10",endTime:"18:00",location:"åšæ„›G513é›»è…¦æ•™å®¤",color:"#818CF8"},{id:"fri-1",name:"æ°‘æ­Œèˆ‡å‰ä»–",day:5,startTime:"08:10",endTime:"10:00",location:"åšæ„›M304",color:"#2DD4BF"},{id:"fri-2",name:"Pythonè³‡æ–™è¦–è¦ºåŒ–",day:5,startTime:"10:10",endTime:"12:00",location:"åšæ„›G521é›»è…¦æ•™å®¤",color:"#A3E635"},{id:"fri-3",name:"Cç¨‹å¼è¨­è¨ˆ",day:5,startTime:"13:10",endTime:"16:00",location:"åšæ„›G512é›»è…¦æ•™å®¤",color:"#FB7185"}],r=[{id:"aut-1",date:"2026-01-11",startTime:"09:00",endTime:"18:00",note:"ç§‹å­£ç­"},{id:"aut-2",date:"2026-01-17",startTime:"09:00",endTime:"18:00",note:"ç§‹å­£ç­"},{id:"aut-3",date:"2026-01-18",startTime:"09:00",endTime:"18:00",note:"ç§‹å­£ç­"},{id:"win-1",date:"2026-01-27",startTime:"09:00",endTime:"18:00",note:"å†¬ä»¤ç‡ŸåŠ©æ•™"},{id:"win-2",date:"2026-01-29",startTime:"09:00",endTime:"18:00",note:"å†¬ä»¤ç‡ŸåŠ©æ•™"},{id:"win-3",date:"2026-02-02",startTime:"09:00",endTime:"18:00",note:"å†¬ä»¤ç‡ŸåŠ©æ•™"},{id:"win-4",date:"2026-02-04",startTime:"09:00",endTime:"18:00",note:"å†¬ä»¤ç‡ŸåŠ©æ•™"},{id:"win-5",date:"2026-02-05",startTime:"09:00",endTime:"18:00",note:"å†¬ä»¤ç‡ŸåŠ©æ•™"},{id:"win-6",date:"2026-02-06",startTime:"09:00",endTime:"18:00",note:"å†¬ä»¤ç‡ŸåŠ©æ•™"},{id:"win-7",date:"2026-02-09",startTime:"09:00",endTime:"18:00",note:"å†¬ä»¤ç‡ŸåŠ©æ•™"},{id:"win-8",date:"2026-02-10",startTime:"09:00",endTime:"18:00",note:"å†¬ä»¤ç‡ŸåŠ©æ•™"},{id:"win-9",date:"2026-02-11",startTime:"09:00",endTime:"18:00",note:"å†¬ä»¤ç‡ŸåŠ©æ•™"},{id:"win-10",date:"2026-02-13",startTime:"09:00",endTime:"18:00",note:"å†¬ä»¤ç‡ŸåŠ©æ•™"}],i=[{id:"sel-1",title:"å¿—é¡˜åºçµæžœæŸ¥è©¢ & æœ¬ç­é¸èª²",date:"2026-01-05",description:"09:00 æŸ¥è©¢çµæžœ / 19:00 é–‹å§‹é¸èª²",type:"deadline"},{id:"sel-2",title:"æœ¬ç³»é¸èª² (å«è¼”é›™)",date:"2026-01-06",description:"19:00 é–‹å§‹",type:"deadline"},{id:"sel-3",title:"è·¨ç³»/è·¨ç­é¸èª²",date:"2026-01-08",description:"19:00 é–‹å§‹",type:"deadline"},{id:"sel-4",title:"å…¨æ ¡ç¶²è·¯åŠ é€€é¸",date:"2026-02-23",description:"ä¸Šåˆ 10:00 é–‹å§‹",type:"deadline"},{id:"sel-5",title:"äººå·¥åŠ é€€é¸",date:"2026-03-02",description:"ä¸Šåˆ 09:00 é–‹å§‹",type:"personal"}];var s=e.i(19119);function n(e){return!!e}e.s(["hasWriteAccess",()=>n],24558);let d="shared";function l(){let{user:e}=(0,a.useAuth)(),[n,l]=(0,t.useState)([]),[u,c]=(0,t.useState)([]),[m,h]=(0,t.useState)([]),[_,f]=(0,t.useState)(!0),[p,g]=(0,t.useState)(!1),x=async()=>{try{let e=await (0,s.getDocuments)(d,"courses"),t=await (0,s.getDocuments)(d,"workShifts"),a=await (0,s.getDocuments)(d,"events");0===e.length&&await (0,s.batchSetDocuments)(d,"courses",o),0===t.length&&await (0,s.batchSetDocuments)(d,"workShifts",r),0===a.length&&await (0,s.batchSetDocuments)(d,"events",i)}catch(e){console.error("âŒ åˆå§‹åŒ–é è¨­è³‡æ–™å¤±æ•—:",e)}};(0,t.useEffect)(()=>{if(!e){l([]),c([]),h([]),f(!1),g(!1);return}f(!0),g(!!e.email),x().then(()=>{f(!1)});let t=(0,s.subscribeToCollection)(d,"courses",e=>l(e)),a=(0,s.subscribeToCollection)(d,"workShifts",e=>c(e)),o=(0,s.subscribeToCollection)(d,"events",e=>h(e));return()=>{t(),a(),o()}},[e]);let v=async t=>{e&&p?await (0,s.setDocument)(d,"courses",t.id,t):console.warn("âŒ ç„¡ç·¨è¼¯æ¬Šé™")},j=async(t,a)=>{e&&p?await (0,s.updateDocument)(d,"courses",t,a):console.warn("âŒ ç„¡ç·¨è¼¯æ¬Šé™")},T=async t=>{e&&p?await (0,s.deleteDocument)(d,"courses",t):console.warn("âŒ ç„¡ç·¨è¼¯æ¬Šé™")},w=async t=>{e&&p?await (0,s.setDocument)(d,"workShifts",t.id,t):console.warn("âŒ ç„¡ç·¨è¼¯æ¬Šé™")},C=async(t,a)=>{e&&p?await (0,s.updateDocument)(d,"workShifts",t,a):console.warn("âŒ ç„¡ç·¨è¼¯æ¬Šé™")},y=async t=>{e&&p?await (0,s.deleteDocument)(d,"workShifts",t):console.warn("âŒ ç„¡ç·¨è¼¯æ¬Šé™")},N=async t=>{e&&p?await (0,s.setDocument)(d,"events",t.id,t):console.warn("âŒ ç„¡ç·¨è¼¯æ¬Šé™")},b=async(t,a)=>{e&&p?await (0,s.updateDocument)(d,"events",t,a):console.warn("âŒ ç„¡ç·¨è¼¯æ¬Šé™")},D=async t=>{e&&p?await (0,s.deleteDocument)(d,"events",t):console.warn("âŒ ç„¡ç·¨è¼¯æ¬Šé™")};return{courses:n,shifts:u,events:m,loading:_,canEdit:p,addCourse:v,updateCourse:j,deleteCourse:T,addWorkShift:w,updateWorkShift:C,deleteWorkShift:y,addEvent:N,updateEvent:b,deleteEvent:D}}e.s(["useScheduleData",()=>l],93475);var u=e.i(43476),c=e.i(8437);function m(){let{signInWithGoogle:e}=(0,a.useAuth)(),t=async()=>{try{await e()}catch(e){console.error("ç™»å…¥å¤±æ•—:",e),alert("ç™»å…¥å¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦")}};return(0,u.jsx)("div",{className:c.default.container,children:(0,u.jsxs)("div",{className:c.default.card,children:[(0,u.jsx)("div",{className:c.default.iconWrapper,children:(0,u.jsx)("svg",{className:c.default.icon,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,u.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),(0,u.jsx)("h2",{className:c.default.title,children:"éœ€è¦ç™»å…¥"}),(0,u.jsx)("p",{className:c.default.description,children:"è«‹å…ˆä½¿ç”¨ Google å¸³è™Ÿç™»å…¥ï¼Œæ‰èƒ½æŸ¥çœ‹èª²è¡¨è³‡æ–™"}),(0,u.jsxs)("button",{onClick:t,className:c.default.loginButton,children:[(0,u.jsxs)("svg",{className:c.default.googleIcon,viewBox:"0 0 24 24",children:[(0,u.jsx)("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,u.jsx)("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,u.jsx)("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,u.jsx)("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"ä½¿ç”¨ Google ç™»å…¥"]}),(0,u.jsx)("p",{className:c.default.footer,children:"åƒ…é™æŽˆæ¬Šçš„å®¶åº­æˆå“¡ç™»å…¥"})]})})}e.s(["default",()=>m],34759)},50901,e=>{e.v({buttonGroup:"WorkShiftEditor-module__FaUwMW__buttonGroup",cancelButton:"WorkShiftEditor-module__FaUwMW__cancelButton",closeButton:"WorkShiftEditor-module__FaUwMW__closeButton",colorPicker:"WorkShiftEditor-module__FaUwMW__colorPicker",dialog:"WorkShiftEditor-module__FaUwMW__dialog",fadeIn:"WorkShiftEditor-module__FaUwMW__fadeIn",form:"WorkShiftEditor-module__FaUwMW__form",formGroup:"WorkShiftEditor-module__FaUwMW__formGroup",formRow:"WorkShiftEditor-module__FaUwMW__formRow",header:"WorkShiftEditor-module__FaUwMW__header",overlay:"WorkShiftEditor-module__FaUwMW__overlay",required:"WorkShiftEditor-module__FaUwMW__required",saveButton:"WorkShiftEditor-module__FaUwMW__saveButton",slideUp:"WorkShiftEditor-module__FaUwMW__slideUp"})},97922,e=>{"use strict";var t=e.i(43476),a=e.i(71645),o=e.i(50901);function r({isOpen:e,onClose:r,onSave:i,shift:s,mode:n}){let[d,l]=(0,a.useState)({date:new Date().toISOString().split("T")[0],startTime:"09:00",endTime:"18:00",note:""});(0,a.useEffect)(()=>{s&&"edit"===n?l(s):"add"===n&&l({date:new Date().toISOString().split("T")[0],startTime:"09:00",endTime:"18:00",note:""})},[s,n]),(0,a.useEffect)(()=>{if(!e)return;let t=e=>{"Escape"===e.key&&(e.preventDefault(),r())};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)},[e,r]);let u=(e,t)=>{l(a=>({...a,[e]:t}))};return e?(0,t.jsx)("div",{className:o.default.overlay,onClick:r,children:(0,t.jsxs)("div",{className:`glass ${o.default.dialog}`,onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:o.default.header,children:[(0,t.jsx)("h2",{children:"add"===n?"æ–°å¢žæ‰“å·¥ç­è¡¨":"ç·¨è¼¯æ‰“å·¥ç­è¡¨"}),(0,t.jsx)("button",{className:o.default.closeButton,onClick:r,children:"âœ•"})]}),(0,t.jsxs)("form",{onSubmit:e=>{(e.preventDefault(),d.date&&d.startTime&&d.endTime)?d.startTime&&d.endTime&&d.startTime>=d.endTime?alert("çµæŸæ™‚é–“å¿…é ˆæ™šæ–¼é–‹å§‹æ™‚é–“"):(i({id:s?.id||`shift-${Date.now()}`,date:d.date,startTime:d.startTime,endTime:d.endTime,note:d.note}),r()):alert("è«‹å¡«å¯«æ‰€æœ‰å¿…å¡«æ¬„ä½")},className:o.default.form,children:[(0,t.jsxs)("div",{className:o.default.formGroup,children:[(0,t.jsxs)("label",{htmlFor:"date",children:["æ—¥æœŸ ",(0,t.jsx)("span",{className:o.default.required,children:"*"})]}),(0,t.jsx)("input",{id:"date",type:"date",value:d.date,onChange:e=>u("date",e.target.value),required:!0})]}),(0,t.jsxs)("div",{className:o.default.formRow,children:[(0,t.jsxs)("div",{className:o.default.formGroup,children:[(0,t.jsxs)("label",{htmlFor:"startTime",children:["é–‹å§‹æ™‚é–“ ",(0,t.jsx)("span",{className:o.default.required,children:"*"})]}),(0,t.jsx)("input",{id:"startTime",type:"time",value:d.startTime,onChange:e=>u("startTime",e.target.value),required:!0})]}),(0,t.jsxs)("div",{className:o.default.formGroup,children:[(0,t.jsxs)("label",{htmlFor:"endTime",children:["çµæŸæ™‚é–“ ",(0,t.jsx)("span",{className:o.default.required,children:"*"})]}),(0,t.jsx)("input",{id:"endTime",type:"time",value:d.endTime,onChange:e=>u("endTime",e.target.value),required:!0})]})]}),(0,t.jsxs)("div",{className:o.default.formGroup,children:[(0,t.jsx)("label",{htmlFor:"note",children:"å‚™è¨»"}),(0,t.jsx)("input",{id:"note",type:"text",value:d.note,onChange:e=>u("note",e.target.value),placeholder:"ä¾‹å¦‚ï¼šå†¬ä»¤ç‡ŸåŠ©æ•™"})]}),(0,t.jsxs)("div",{className:o.default.buttonGroup,children:[(0,t.jsx)("button",{type:"button",className:`btn ${o.default.cancelButton}`,onClick:r,children:"å–æ¶ˆ"}),(0,t.jsx)("button",{type:"submit",className:`btn ${o.default.saveButton}`,children:"add"===n?"æ–°å¢ž":"å„²å­˜"})]})]})]})}):null}e.s(["default",()=>r])},7881,e=>{e.v({buttonGroup:"CourseEditor-module__MXGihW__buttonGroup",cancelButton:"CourseEditor-module__MXGihW__cancelButton",closeButton:"CourseEditor-module__MXGihW__closeButton",colorPicker:"CourseEditor-module__MXGihW__colorPicker",dialog:"CourseEditor-module__MXGihW__dialog",fadeIn:"CourseEditor-module__MXGihW__fadeIn",form:"CourseEditor-module__MXGihW__form",formGroup:"CourseEditor-module__MXGihW__formGroup",formRow:"CourseEditor-module__MXGihW__formRow",header:"CourseEditor-module__MXGihW__header",overlay:"CourseEditor-module__MXGihW__overlay",required:"CourseEditor-module__MXGihW__required",saveButton:"CourseEditor-module__MXGihW__saveButton",slideUp:"CourseEditor-module__MXGihW__slideUp"})},67090,e=>{"use strict";var t=e.i(43476),a=e.i(71645),o=e.i(7881);function r({isOpen:e,onClose:r,onSave:i,course:s,mode:n}){let[d,l]=(0,a.useState)({name:"",day:1,startTime:"08:10",endTime:"10:00",location:"",color:"#0891B2"});(0,a.useEffect)(()=>{s&&"edit"===n?l(s):"add"===n&&l({name:"",day:1,startTime:"08:10",endTime:"10:00",location:"",color:"#0891B2"})},[s,n]),(0,a.useEffect)(()=>{if(!e)return;let t=e=>{"Escape"===e.key&&(e.preventDefault(),r())};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)},[e,r]);let u=(e,t)=>{l(a=>({...a,[e]:t}))};return e?(0,t.jsx)("div",{className:o.default.overlay,onClick:r,children:(0,t.jsxs)("div",{className:`glass ${o.default.dialog}`,onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:o.default.header,children:[(0,t.jsx)("h2",{children:"add"===n?"æ–°å¢žèª²ç¨‹":"ç·¨è¼¯èª²ç¨‹"}),(0,t.jsx)("button",{className:o.default.closeButton,onClick:r,children:"âœ•"})]}),(0,t.jsxs)("form",{onSubmit:e=>{(e.preventDefault(),d.name&&d.startTime&&d.endTime)?d.startTime&&d.endTime&&d.startTime>=d.endTime?alert("çµæŸæ™‚é–“å¿…é ˆæ™šæ–¼é–‹å§‹æ™‚é–“"):(i({id:s?.id||`course-${Date.now()}`,name:d.name,day:d.day,startTime:d.startTime,endTime:d.endTime,location:d.location,color:d.color}),r()):alert("è«‹å¡«å¯«æ‰€æœ‰å¿…å¡«æ¬„ä½")},className:o.default.form,children:[(0,t.jsxs)("div",{className:o.default.formGroup,children:[(0,t.jsxs)("label",{htmlFor:"name",children:["èª²ç¨‹åç¨± ",(0,t.jsx)("span",{className:o.default.required,children:"*"})]}),(0,t.jsx)("input",{id:"name",type:"text",value:d.name,onChange:e=>u("name",e.target.value),placeholder:"ä¾‹å¦‚ï¼šè³‡æ–™çµæ§‹",required:!0})]}),(0,t.jsxs)("div",{className:o.default.formRow,children:[(0,t.jsxs)("div",{className:o.default.formGroup,children:[(0,t.jsxs)("label",{htmlFor:"day",children:["æ˜ŸæœŸ ",(0,t.jsx)("span",{className:o.default.required,children:"*"})]}),(0,t.jsxs)("select",{id:"day",value:d.day,onChange:e=>u("day",parseInt(e.target.value)),children:[(0,t.jsx)("option",{value:1,children:"æ˜ŸæœŸä¸€"}),(0,t.jsx)("option",{value:2,children:"æ˜ŸæœŸäºŒ"}),(0,t.jsx)("option",{value:3,children:"æ˜ŸæœŸä¸‰"}),(0,t.jsx)("option",{value:4,children:"æ˜ŸæœŸå››"}),(0,t.jsx)("option",{value:5,children:"æ˜ŸæœŸäº”"}),(0,t.jsx)("option",{value:6,children:"æ˜ŸæœŸå…­"}),(0,t.jsx)("option",{value:7,children:"æ˜ŸæœŸæ—¥"})]})]}),(0,t.jsxs)("div",{className:o.default.formGroup,children:[(0,t.jsx)("label",{htmlFor:"color",children:"é¡è‰²"}),(0,t.jsx)("input",{id:"color",type:"color",value:d.color,onChange:e=>u("color",e.target.value),className:o.default.colorPicker})]})]}),(0,t.jsxs)("div",{className:o.default.formRow,children:[(0,t.jsxs)("div",{className:o.default.formGroup,children:[(0,t.jsxs)("label",{htmlFor:"startTime",children:["é–‹å§‹æ™‚é–“ ",(0,t.jsx)("span",{className:o.default.required,children:"*"})]}),(0,t.jsx)("input",{id:"startTime",type:"time",value:d.startTime,onChange:e=>u("startTime",e.target.value),required:!0})]}),(0,t.jsxs)("div",{className:o.default.formGroup,children:[(0,t.jsxs)("label",{htmlFor:"endTime",children:["çµæŸæ™‚é–“ ",(0,t.jsx)("span",{className:o.default.required,children:"*"})]}),(0,t.jsx)("input",{id:"endTime",type:"time",value:d.endTime,onChange:e=>u("endTime",e.target.value),required:!0})]})]}),(0,t.jsxs)("div",{className:o.default.formGroup,children:[(0,t.jsx)("label",{htmlFor:"location",children:"åœ°é»ž"}),(0,t.jsx)("input",{id:"location",type:"text",value:d.location,onChange:e=>u("location",e.target.value),placeholder:"ä¾‹å¦‚ï¼šåšæ„›G513é›»è…¦æ•™å®¤"})]}),(0,t.jsxs)("div",{className:o.default.buttonGroup,children:[(0,t.jsx)("button",{type:"button",className:`btn ${o.default.cancelButton}`,onClick:r,children:"å–æ¶ˆ"}),(0,t.jsx)("button",{type:"submit",className:`btn ${o.default.saveButton}`,children:"add"===n?"æ–°å¢ž":"å„²å­˜"})]})]})]})}):null}e.s(["default",()=>r])},34044,e=>{e.v({addButton:"CourseManager-module__Du1rrW__addButton",colorBar:"CourseManager-module__Du1rrW__colorBar",container:"CourseManager-module__Du1rrW__container",courseActions:"CourseManager-module__Du1rrW__courseActions",courseCard:"CourseManager-module__Du1rrW__courseCard",courseDetails:"CourseManager-module__Du1rrW__courseDetails",courseInfo:"CourseManager-module__Du1rrW__courseInfo",courseList:"CourseManager-module__Du1rrW__courseList",courseName:"CourseManager-module__Du1rrW__courseName",deleteButton:"CourseManager-module__Du1rrW__deleteButton",editButton:"CourseManager-module__Du1rrW__editButton",emptyIcon:"CourseManager-module__Du1rrW__emptyIcon",emptyState:"CourseManager-module__Du1rrW__emptyState",header:"CourseManager-module__Du1rrW__header"})},23898,e=>{e.v({addButton:"WorkShiftManager-module__7h42rq__addButton",container:"WorkShiftManager-module__7h42rq__container",copyButton:"WorkShiftManager-module__7h42rq__copyButton",deleteButton:"WorkShiftManager-module__7h42rq__deleteButton",editButton:"WorkShiftManager-module__7h42rq__editButton",emptyIcon:"WorkShiftManager-module__7h42rq__emptyIcon",emptyState:"WorkShiftManager-module__7h42rq__emptyState",header:"WorkShiftManager-module__7h42rq__header",headerActions:"WorkShiftManager-module__7h42rq__headerActions",monthCount:"WorkShiftManager-module__7h42rq__monthCount",monthGroup:"WorkShiftManager-module__7h42rq__monthGroup",monthShifts:"WorkShiftManager-module__7h42rq__monthShifts",monthTitle:"WorkShiftManager-module__7h42rq__monthTitle",shiftActions:"WorkShiftManager-module__7h42rq__shiftActions",shiftCard:"WorkShiftManager-module__7h42rq__shiftCard",shiftDate:"WorkShiftManager-module__7h42rq__shiftDate",shiftDay:"WorkShiftManager-module__7h42rq__shiftDay",shiftInfo:"WorkShiftManager-module__7h42rq__shiftInfo",shiftList:"WorkShiftManager-module__7h42rq__shiftList",shiftNote:"WorkShiftManager-module__7h42rq__shiftNote",shiftTime:"WorkShiftManager-module__7h42rq__shiftTime",shiftWeekday:"WorkShiftManager-module__7h42rq__shiftWeekday"})},73494,e=>{e.v({content:"page-module__4ucO_G__content",fadeIn:"page-module__4ucO_G__fadeIn",header:"page-module__4ucO_G__header",pageContainer:"page-module__4ucO_G__pageContainer",subtitle:"page-module__4ucO_G__subtitle",tab:"page-module__4ucO_G__tab",tabActive:"page-module__4ucO_G__tabActive",tabs:"page-module__4ucO_G__tabs"})},28121,e=>{"use strict";var t=e.i(43476),a=e.i(71645),o=e.i(93475),r=e.i(67090),i=e.i(34044);function s(){let{courses:e,addCourse:s,updateCourse:n,deleteCourse:d}=(0,o.useScheduleData)(),[l,u]=(0,a.useState)(!1),[c,m]=(0,a.useState)(null),[h,_]=(0,a.useState)("add"),f=["","ä¸€","äºŒ","ä¸‰","å››","äº”","å…­","æ—¥"],p=()=>{m(null),_("add"),u(!0)},g=[...e].sort((e,t)=>e.day!==t.day?e.day-t.day:e.startTime.localeCompare(t.startTime));return(0,t.jsxs)("div",{className:i.default.container,children:[(0,t.jsxs)("div",{className:i.default.header,children:[(0,t.jsx)("h2",{children:"èª²ç¨‹ç®¡ç†"}),(0,t.jsx)("button",{className:`btn ${i.default.addButton}`,onClick:p,children:"+ æ–°å¢žèª²ç¨‹"})]}),(0,t.jsx)("div",{className:i.default.courseList,children:0===g.length?(0,t.jsxs)("div",{className:i.default.emptyState,children:[(0,t.jsx)("div",{className:i.default.emptyIcon,children:"ðŸ“š"}),(0,t.jsx)("p",{children:"å°šæœªæ–°å¢žä»»ä½•èª²ç¨‹"}),(0,t.jsx)("button",{className:"btn",onClick:p,children:"æ–°å¢žç¬¬ä¸€å ‚èª²"})]}):g.map(e=>(0,t.jsxs)("div",{className:`glass ${i.default.courseCard}`,children:[(0,t.jsx)("div",{className:i.default.colorBar,style:{backgroundColor:e.color||"#818cf8"}}),(0,t.jsxs)("div",{className:i.default.courseInfo,children:[(0,t.jsx)("div",{className:i.default.courseName,children:e.name}),(0,t.jsxs)("div",{className:i.default.courseDetails,children:[(0,t.jsxs)("span",{children:["æ˜ŸæœŸ",f[e.day]]}),(0,t.jsxs)("span",{children:[e.startTime," - ",e.endTime]}),e.location&&(0,t.jsx)("span",{children:e.location})]})]}),(0,t.jsxs)("div",{className:i.default.courseActions,children:[(0,t.jsx)("button",{className:i.default.editButton,onClick:()=>{m(e),_("edit"),u(!0)},title:"ç·¨è¼¯",children:(0,t.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,t.jsx)("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),(0,t.jsx)("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),(0,t.jsx)("button",{className:i.default.deleteButton,onClick:()=>{confirm(`ç¢ºå®šè¦åˆªé™¤ã€Œ${e.name}ã€å—Žï¼Ÿ`)&&d(e.id)},title:"åˆªé™¤",children:(0,t.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,t.jsx)("polyline",{points:"3 6 5 6 21 6"}),(0,t.jsx)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]},e.id))}),(0,t.jsx)(r.default,{isOpen:l,onClose:()=>u(!1),onSave:e=>{"add"===h?s(e):n(e.id,e)},course:c,mode:h})]})}var n=e.i(97922),d=e.i(23898);function l(){let{shifts:e,addWorkShift:r,updateWorkShift:i,deleteWorkShift:s}=(0,o.useScheduleData)(),[l,u]=(0,a.useState)(!1),[c,m]=(0,a.useState)(null),[h,_]=(0,a.useState)("add"),f=()=>{m(null),_("add"),u(!0)},p=[...e].sort((e,t)=>t.date.localeCompare(e.date)),g={};return p.forEach(e=>{let t=e.date.substring(0,7);g[t]||(g[t]=[]),g[t].push(e)}),(0,t.jsxs)("div",{className:d.default.container,children:[(0,t.jsxs)("div",{className:d.default.header,children:[(0,t.jsx)("h2",{children:"æ‰“å·¥ç­è¡¨ç®¡ç†"}),(0,t.jsxs)("div",{className:d.default.headerActions,children:[(0,t.jsx)("button",{className:`btn ${d.default.copyButton}`,onClick:()=>{let t=new Date,a=new Date(t);a.setDate(t.getDate()-7),a.setHours(0,0,0,0);let o=new Date(t);o.setDate(t.getDate()-1),o.setHours(23,59,59,999);let i=e.filter(e=>{let t=new Date(e.date);return t>=a&&t<=o});0===i.length?alert("ä¸Šé€±æ²’æœ‰ç­è¡¨å¯ä»¥è¤‡è£½"):confirm(`ç¢ºå®šè¦è¤‡è£½ä¸Šé€±çš„ ${i.length} å€‹ç­è¡¨åˆ°æœ¬é€±å—Žï¼Ÿ`)&&(i.forEach(e=>{let t=new Date(e.date);t.setDate(t.getDate()+7),r({id:`shift-${Date.now()}-${Math.random()}`,date:t.toISOString().split("T")[0],startTime:e.startTime,endTime:e.endTime,note:e.note})}),alert(`å·²æˆåŠŸè¤‡è£½ ${i.length} å€‹ç­è¡¨åˆ°æœ¬é€±ï¼`))},title:"è¤‡è£½ä¸Šé€±ç­è¡¨",children:"ðŸ“‹ è¤‡è£½ä¸Šé€±"}),(0,t.jsx)("button",{className:`btn ${d.default.copyButton}`,onClick:()=>{let t=new Date,a=new Date(t.getFullYear(),t.getMonth()-1,1),o=new Date(t.getFullYear(),t.getMonth(),0),i=e.filter(e=>{let t=new Date(e.date);return t>=a&&t<=o});0===i.length?alert("ä¸Šå€‹æœˆæ²’æœ‰ç­è¡¨å¯ä»¥è¤‡è£½"):confirm(`ç¢ºå®šè¦è¤‡è£½ä¸Šå€‹æœˆçš„ ${i.length} å€‹ç­è¡¨åˆ°æœ¬æœˆå—Žï¼Ÿ

æ—¥æœŸæœƒè‡ªå‹•èª¿æ•´åˆ°æœ¬æœˆå°æ‡‰çš„æ—¥æœŸã€‚`)&&(i.forEach(e=>{let a=new Date(e.date).getDate(),o=new Date(t.getFullYear(),t.getMonth(),a);o.getMonth()!==t.getMonth()||r({id:`shift-${Date.now()}-${Math.random()}`,date:o.toISOString().split("T")[0],startTime:e.startTime,endTime:e.endTime,note:e.note})}),alert("å·²æˆåŠŸè¤‡è£½ç­è¡¨åˆ°æœ¬æœˆï¼"))},title:"è¤‡è£½ä¸Šæœˆç­è¡¨",children:"ðŸ“‹ è¤‡è£½ä¸Šæœˆ"}),(0,t.jsx)("button",{className:`btn ${d.default.addButton}`,onClick:f,children:"+ æ–°å¢žç­è¡¨"})]})]}),(0,t.jsx)("div",{className:d.default.shiftList,children:0===p.length?(0,t.jsxs)("div",{className:d.default.emptyState,children:[(0,t.jsx)("div",{className:d.default.emptyIcon,children:"ðŸ’¼"}),(0,t.jsx)("p",{children:"å°šæœªæ–°å¢žä»»ä½•ç­è¡¨"}),(0,t.jsx)("button",{className:"btn",onClick:f,children:"æ–°å¢žç¬¬ä¸€å€‹ç­è¡¨"})]}):Object.entries(g).map(([e,a])=>(0,t.jsxs)("div",{className:d.default.monthGroup,children:[(0,t.jsxs)("h3",{className:d.default.monthTitle,children:[e.split("-")[0]," å¹´ ",e.split("-")[1]," æœˆ",(0,t.jsxs)("span",{className:d.default.monthCount,children:["(",a.length," å¤©)"]})]}),(0,t.jsx)("div",{className:d.default.monthShifts,children:a.map(e=>(0,t.jsxs)("div",{className:`glass ${d.default.shiftCard}`,children:[(0,t.jsxs)("div",{className:d.default.shiftDate,children:[(0,t.jsx)("div",{className:d.default.shiftDay,children:new Date(e.date).getDate()}),(0,t.jsx)("div",{className:d.default.shiftWeekday,children:["æ—¥","ä¸€","äºŒ","ä¸‰","å››","äº”","å…­"][new Date(e.date).getDay()]})]}),(0,t.jsxs)("div",{className:d.default.shiftInfo,children:[(0,t.jsx)("div",{className:d.default.shiftNote,children:e.note||"æ‰“å·¥"}),(0,t.jsxs)("div",{className:d.default.shiftTime,children:[e.startTime," - ",e.endTime]})]}),(0,t.jsxs)("div",{className:d.default.shiftActions,children:[(0,t.jsx)("button",{className:d.default.editButton,onClick:()=>{m(e),_("edit"),u(!0)},title:"ç·¨è¼¯",children:(0,t.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,t.jsx)("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),(0,t.jsx)("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),(0,t.jsx)("button",{className:d.default.deleteButton,onClick:()=>{confirm(`ç¢ºå®šè¦åˆªé™¤ ${e.date} çš„ç­è¡¨å—Žï¼Ÿ`)&&s(e.id)},title:"åˆªé™¤",children:(0,t.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,t.jsx)("polyline",{points:"3 6 5 6 21 6"}),(0,t.jsx)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]},e.id))})]},e))}),(0,t.jsx)(n.default,{isOpen:l,onClose:()=>u(!1),onSave:e=>{"add"===h?r(e):i(e.id,e)},shift:c,mode:h})]})}var u=e.i(32341),c=e.i(34759),m=e.i(73494);function h(){let{user:e,loading:o}=(0,u.useAuth)(),[r,i]=(0,a.useState)("courses");return o?(0,t.jsx)("div",{style:{padding:"2rem",textAlign:"center"},children:"è¼‰å…¥ä¸­..."}):e?(0,t.jsx)("div",{className:m.default.pageContainer,children:(0,t.jsxs)("div",{className:"glass card",children:[(0,t.jsxs)("div",{className:m.default.header,children:[(0,t.jsx)("h1",{children:"è³‡æ–™ç®¡ç†"}),(0,t.jsx)("p",{className:m.default.subtitle,children:"æ–°å¢žã€ç·¨è¼¯æˆ–åˆªé™¤èª²ç¨‹å’Œæ‰“å·¥ç­è¡¨"})]}),(0,t.jsxs)("div",{className:m.default.tabs,children:[(0,t.jsx)("button",{className:`${m.default.tab} ${"courses"===r?m.default.tabActive:""}`,onClick:()=>i("courses"),children:"ðŸ“š èª²ç¨‹ç®¡ç†"}),(0,t.jsx)("button",{className:`${m.default.tab} ${"work"===r?m.default.tabActive:""}`,onClick:()=>i("work"),children:"ðŸ’¼ æ‰“å·¥ç­è¡¨"})]}),(0,t.jsxs)("div",{className:m.default.content,children:["courses"===r&&(0,t.jsx)(s,{}),"work"===r&&(0,t.jsx)(l,{})]})]})}):(0,t.jsx)(c.default,{})}e.s(["default",()=>h],28121)}]);