(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,19119,e=>{"use strict";e.i(36180);var t=e.i(98925),n=e.i(59141);function o(e){let t={};for(let[n,o]of Object.entries(e))void 0!==o&&(t[n]=o);return t}function a(e,o){if(!n.isFirebaseConfigured||!n.db)throw Error("Firebase 未設定，請檢查環境變數");return(0,t.collection)(n.db,"shared","data",o)}async function i(e,n,i){let r=a(e,n),s=o({...i,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()});return(await (0,t.addDoc)(r,s)).id}async function r(e,a,i,r){if(!n.isFirebaseConfigured||!n.db)throw Error("Firebase 未設定，請檢查環境變數");let s=(0,t.doc)(n.db,"shared","data",a,i),d=o({...r,updatedAt:new Date().toISOString()});await (0,t.setDoc)(s,d)}async function s(e,n,...o){let i=a(e,n),r=o.length>0?(0,t.query)(i,...o):i;return(await (0,t.getDocs)(r)).docs.map(e=>({id:e.id,...e.data()}))}async function d(e,a,i,r){if(!n.isFirebaseConfigured||!n.db)throw Error("Firebase 未設定，請檢查環境變數");let s=(0,t.doc)(n.db,"shared","data",a,i),d=o({...r,updatedAt:new Date().toISOString()});await (0,t.updateDoc)(s,d)}async function c(e,o,a){if(!n.isFirebaseConfigured||!n.db)throw Error("Firebase 未設定，請檢查環境變數");let i=(0,t.doc)(n.db,"shared","data",o,a);await (0,t.deleteDoc)(i)}function l(e,n,o,...i){let r=a(e,n),s=i.length>0?(0,t.query)(r,...i):r;return(0,t.onSnapshot)(s,e=>{o(e.docs.map(e=>({id:e.id,...e.data()})))})}async function u(e,t,n){let o=n.map(n=>{let{id:o,...a}=n;return r(e,t,o,a)});await Promise.all(o)}function m(e){return l("shared","gameGuides",e,(0,t.orderBy)("order","asc"))}async function f(e){return i("shared","gameGuides",e)}async function h(e,t){return d("shared","gameGuides",e,t)}async function p(e){return c("shared","gameGuides",e)}async function w(e){let t=e.map(e=>f(e));await Promise.all(t)}e.s(["addGameGuide",()=>f,"batchImportGameGuides",()=>w,"batchSetDocuments",()=>u,"deleteDocument",()=>c,"deleteGameGuide",()=>p,"getDocuments",()=>s,"setDocument",()=>r,"subscribeToCollection",()=>l,"subscribeToGameGuides",()=>m,"updateDocument",()=>d,"updateGameGuide",()=>h])},8437,e=>{e.v({card:"LoginPrompt-module__ERCXna__card",container:"LoginPrompt-module__ERCXna__container",description:"LoginPrompt-module__ERCXna__description",footer:"LoginPrompt-module__ERCXna__footer",googleIcon:"LoginPrompt-module__ERCXna__googleIcon",icon:"LoginPrompt-module__ERCXna__icon",iconWrapper:"LoginPrompt-module__ERCXna__iconWrapper",loginButton:"LoginPrompt-module__ERCXna__loginButton",title:"LoginPrompt-module__ERCXna__title"})},93475,24558,34759,e=>{"use strict";var t=e.i(71645),n=e.i(32341);let o=[{id:"mon-1",name:"職涯分析與規劃",day:1,startTime:"08:10",endTime:"10:00",location:"博愛CB105D",color:"#6EE7B7"},{id:"mon-2",name:"國文(II)：語文表達",day:1,startTime:"10:10",endTime:"12:00",location:"博愛C306",color:"#5EEAD4"},{id:"mon-3",name:"數位電子學",day:1,startTime:"13:10",endTime:"16:00",location:"博愛G313",color:"#0891B2"},{id:"tue-1",name:"網際網路概論",day:2,startTime:"08:10",endTime:"10:00",location:"博愛G512電腦教室",color:"#22D3EE"},{id:"tue-2",name:"大學生活學習與輔導",day:2,startTime:"13:10",endTime:"15:00",location:"博愛G313",color:"#A5F3FC"},{id:"wed-1",name:"英文(II)",day:3,startTime:"08:10",endTime:"10:00",location:"博愛C608",color:"#34D399"},{id:"wed-2",name:"羽球",day:3,startTime:"10:10",endTime:"12:00",location:"博愛公誠樓籃球場",color:"#10B981"},{id:"wed-3",name:"資料結構",day:3,startTime:"15:10",endTime:"18:00",location:"博愛G513電腦教室",color:"#059669"},{id:"fri-1",name:"民歌與吉他",day:5,startTime:"08:10",endTime:"10:00",location:"博愛M304",color:"#67E8F9"},{id:"fri-2",name:"Python資料視覺化",day:5,startTime:"10:10",endTime:"12:00",location:"博愛G521電腦教室",color:"#06B6D4"},{id:"fri-3",name:"C程式設計",day:5,startTime:"13:10",endTime:"16:00",location:"博愛G512電腦教室",color:"#0E7490"}],a=[{id:"aut-1",date:"2026-01-11",startTime:"09:00",endTime:"18:00",note:"秋季班"},{id:"aut-2",date:"2026-01-17",startTime:"09:00",endTime:"18:00",note:"秋季班"},{id:"aut-3",date:"2026-01-18",startTime:"09:00",endTime:"18:00",note:"秋季班"},{id:"win-1",date:"2026-01-27",startTime:"09:00",endTime:"18:00",note:"冬令營助教"},{id:"win-2",date:"2026-01-29",startTime:"09:00",endTime:"18:00",note:"冬令營助教"},{id:"win-3",date:"2026-02-02",startTime:"09:00",endTime:"18:00",note:"冬令營助教"},{id:"win-4",date:"2026-02-04",startTime:"09:00",endTime:"18:00",note:"冬令營助教"},{id:"win-5",date:"2026-02-05",startTime:"09:00",endTime:"18:00",note:"冬令營助教"},{id:"win-6",date:"2026-02-06",startTime:"09:00",endTime:"18:00",note:"冬令營助教"},{id:"win-7",date:"2026-02-09",startTime:"09:00",endTime:"18:00",note:"冬令營助教"},{id:"win-8",date:"2026-02-10",startTime:"09:00",endTime:"18:00",note:"冬令營助教"},{id:"win-9",date:"2026-02-11",startTime:"09:00",endTime:"18:00",note:"冬令營助教"},{id:"win-10",date:"2026-02-13",startTime:"09:00",endTime:"18:00",note:"冬令營助教"}],i=[{id:"sel-1",title:"志願序結果查詢 & 本班選課",date:"2026-01-05",description:"09:00 查詢結果 / 19:00 開始選課",type:"deadline"},{id:"sel-2",title:"本系選課 (含輔雙)",date:"2026-01-06",description:"19:00 開始",type:"deadline"},{id:"sel-3",title:"跨系/跨班選課",date:"2026-01-08",description:"19:00 開始",type:"deadline"},{id:"sel-4",title:"全校網路加退選",date:"2026-02-23",description:"上午 10:00 開始",type:"deadline"},{id:"sel-5",title:"人工加退選",date:"2026-03-02",description:"上午 09:00 開始",type:"personal"}];var r=e.i(19119);function s(e){return!!e}e.s(["hasWriteAccess",()=>s],24558);let d="shared";function c(){let{user:e}=(0,n.useAuth)(),[s,c]=(0,t.useState)([]),[l,u]=(0,t.useState)([]),[m,f]=(0,t.useState)([]),[h,p]=(0,t.useState)(!0),[w,y]=(0,t.useState)(!1),T=async()=>{try{let e=await (0,r.getDocuments)(d,"courses"),t=await (0,r.getDocuments)(d,"workShifts"),n=await (0,r.getDocuments)(d,"events");0===e.length&&await (0,r.batchSetDocuments)(d,"courses",o),0===t.length&&await (0,r.batchSetDocuments)(d,"workShifts",a),0===n.length&&await (0,r.batchSetDocuments)(d,"events",i)}catch(e){console.error("❌ 初始化預設資料失敗:",e)}};(0,t.useEffect)(()=>{if(!e){c([]),u([]),f([]),p(!1),y(!1);return}p(!0),y(!!e.email),T().then(()=>{p(!1)});let t=(0,r.subscribeToCollection)(d,"courses",e=>c(e)),n=(0,r.subscribeToCollection)(d,"workShifts",e=>u(e)),o=(0,r.subscribeToCollection)(d,"events",e=>f(e));return()=>{t(),n(),o()}},[e]);let g=async t=>{e&&w?await (0,r.setDocument)(d,"courses",t.id,t):console.warn("❌ 無編輯權限")},b=async(t,n)=>{e&&w?await (0,r.updateDocument)(d,"courses",t,n):console.warn("❌ 無編輯權限")},_=async t=>{e&&w?await (0,r.deleteDocument)(d,"courses",t):console.warn("❌ 無編輯權限")},D=async t=>{e&&w?await (0,r.setDocument)(d,"workShifts",t.id,t):console.warn("❌ 無編輯權限")},C=async(t,n)=>{e&&w?await (0,r.updateDocument)(d,"workShifts",t,n):console.warn("❌ 無編輯權限")},v=async t=>{e&&w?await (0,r.deleteDocument)(d,"workShifts",t):console.warn("❌ 無編輯權限")},S=async t=>{e&&w?await (0,r.setDocument)(d,"events",t.id,t):console.warn("❌ 無編輯權限")},E=async(t,n)=>{e&&w?await (0,r.updateDocument)(d,"events",t,n):console.warn("❌ 無編輯權限")},G=async t=>{e&&w?await (0,r.deleteDocument)(d,"events",t):console.warn("❌ 無編輯權限")};return{courses:s,shifts:l,events:m,loading:h,canEdit:w,addCourse:g,updateCourse:b,deleteCourse:_,addWorkShift:D,updateWorkShift:C,deleteWorkShift:v,addEvent:S,updateEvent:E,deleteEvent:G}}e.s(["useScheduleData",()=>c],93475);var l=e.i(43476),u=e.i(8437);function m(){let{signInWithGoogle:e}=(0,n.useAuth)(),t=async()=>{try{await e()}catch(e){console.error("登入失敗:",e),alert("登入失敗，請稍後再試")}};return(0,l.jsx)("div",{className:u.default.container,children:(0,l.jsxs)("div",{className:u.default.card,children:[(0,l.jsx)("div",{className:u.default.iconWrapper,children:(0,l.jsx)("svg",{className:u.default.icon,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),(0,l.jsx)("h2",{className:u.default.title,children:"需要登入"}),(0,l.jsx)("p",{className:u.default.description,children:"請先使用 Google 帳號登入，才能查看課表資料"}),(0,l.jsxs)("button",{onClick:t,className:u.default.loginButton,children:[(0,l.jsxs)("svg",{className:u.default.googleIcon,viewBox:"0 0 24 24",children:[(0,l.jsx)("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,l.jsx)("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,l.jsx)("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,l.jsx)("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"使用 Google 登入"]}),(0,l.jsx)("p",{className:u.default.footer,children:"僅限授權的家庭成員登入"})]})})}e.s(["default",()=>m],34759)},10160,e=>{"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.s(["default",()=>t])},48503,e=>{e.v(e=>Promise.resolve().then(()=>e(15833)))},70653,e=>{e.v(t=>Promise.all(["static/chunks/90fdd386fff6c4e1.js"].map(t=>e.l(t))).then(()=>t(24154)))},95111,e=>{e.v(t=>Promise.all(["static/chunks/cca5a266ceb00b0d.js"].map(t=>e.l(t))).then(()=>t(38201)))}]);